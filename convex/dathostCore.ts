/**
 * FASE 60: DATHOST CORE - VANILLA CS2 SERVER MANAGEMENT
 * 
 * Pure vanilla CS2 server creation and management via DatHost API.
 * NO PLUGINS - Only RCON commands and log parsing.
 */

import { v } from "convex/values";
import { internalAction, internalMutation, internalQuery } from "./_generated/server";
import { internal } from "./_generated/api";
import { normalizeSteamId } from "./steamIdUtils";

/**
 * Generate secure RCON password
 */
function generateRconPassword(): string {
  const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
  let password = "";
  for (let i = 0; i < 16; i++) {
    password += chars.charAt(Math.floor(Math.random() * chars.length));
  }
  return password;
}

/**
 * Get DatHost credentials from environment
 */
function getDatHostAuth(): string {
  const username = process.env.DATHOST_USERNAME;
  const password = process.env.DATHOST_PASSWORD;

  if (!username || !password) {
    throw new Error("DatHost credentials not configured");
  }

  return btoa(`${username}:${password}`);
}

function getCs2MetaModPluginIdsFromEnv(): string[] | null {
  const raw = process.env.DATHOST_CS2_METAMOD_PLUGINS;
  if (!raw) return null;
  try {
    const parsed = JSON.parse(raw);
    if (!Array.isArray(parsed)) return null;
    const ids = parsed.map((x) => String(x)).filter((x) => x.length > 0);
    return ids.length > 0 ? ids : null;
  } catch {
    return null;
  }
}

export const uploadFileFromUrl = internalAction({
  args: {
    serverId: v.string(),
    fileUrl: v.string(),
    remotePath: v.string(),
  },
  handler: async (ctx, args) => {
    void ctx;
    const auth = getDatHostAuth();

    try {
      console.log("üì• [UPLOAD] Downloading file from URL:", args.fileUrl);

      // Handle Google Drive URLs - need to bypass virus scan confirmation
      let downloadUrl = args.fileUrl;
      if (downloadUrl.includes("drive.google.com")) {
        // Extract file ID and use direct download URL with confirm
        const match = downloadUrl.match(/id=([a-zA-Z0-9_-]+)/);
        if (match) {
          const fileId = match[1];
          downloadUrl = `https://drive.google.com/uc?export=download&confirm=t&id=${fileId}`;
          console.log("üì• [UPLOAD] Using Google Drive direct URL with confirm bypass");
        }
      }

      // Download file from URL
      const downloadResponse = await fetch(downloadUrl, {
        redirect: "follow",
      });

      if (!downloadResponse.ok) {
        console.log("‚ö†Ô∏è [UPLOAD] Download failed:", downloadResponse.status);
        return { success: false, error: "Download failed" };
      }

      const contentType = downloadResponse.headers.get("content-type") || "";
      console.log("üì• [UPLOAD] Response content-type:", contentType);

      const fileBuffer = await downloadResponse.arrayBuffer();
      
      // Check if we got HTML instead of binary (Google Drive confirmation page)
      if (contentType.includes("text/html") && fileBuffer.byteLength < 100000) {
        const text = new TextDecoder().decode(fileBuffer.slice(0, 500));
        console.log("‚ö†Ô∏è [UPLOAD] Got HTML response (likely confirmation page):", text.substring(0, 200));
        return { success: false, error: "Google Drive returned HTML confirmation page instead of file" };
      }

      const fileBlob = new Blob([fileBuffer]);

      console.log("üì§ [UPLOAD] Uploading to DatHost:", args.remotePath, "size=", fileBuffer.byteLength);

      // Prepare multipart form data
      const formData = new FormData();
      formData.append("file", fileBlob);

      // Upload to DatHost
      const encodedPath = encodeURIComponent(args.remotePath).replaceAll("%2F", "/");
      const uploadResponse = await fetch(
        `https://dathost.net/api/0.1/game-servers/${args.serverId}/files/${encodedPath}`,
        {
          method: "POST",
          headers: {
            Authorization: `Basic ${auth}`,
          },
          body: formData,
        }
      );

      const responseText = await uploadResponse.text();

      if (!uploadResponse.ok) {
        console.log("‚ö†Ô∏è [UPLOAD] Upload failed:", "status=", uploadResponse.status, "response=", responseText);
        return { success: false, error: responseText };
      }

      console.log("‚úÖ [UPLOAD] File uploaded successfully:", args.remotePath);
      return { success: true };
    } catch (error: any) {
      console.log("‚ö†Ô∏è [UPLOAD] Error:", error.message);
      return { success: false, error: error.message };
    }
  },
});

// Knife plugin files embedded as base64 - uploaded to cs2/addons/counterstrikesharp/plugins/Knife/
// Files: Knife.deps.json, Knife.dll, Knife.pdb (all as base64)

const KNIFE_DEPS_BASE64 = "ew0KICAicnVudGltZVRhcmdldCI6IHsNCiAgICAibmFtZSI6ICIuTkVUQ29yZUFwcCxWZXJzaW9uPXY4LjAiLA0KICAgICJzaWduYXR1cmUiOiAiIg0KICB9LA0KICAiY29tcGlsYXRpb25PcHRpb25zIjoge30sDQogICJ0YXJnZXRzIjogew0KICAgICIuTkVUQ29yZUFwcCxWZXJzaW9uPXY4LjAiOiB7DQogICAgICAiS25pZmUvMS4wLjAiOiB7DQogICAgICAgICJkZXBlbmRlbmNpZXMiOiB7DQogICAgICAgICAgIkNvdW50ZXJTdHJpa2VTaGFycC5BUEkiOiAiMS4wLjM1NSINCiAgICAgICAgfSwNCiAgICAgICAgInJ1bnRpbWUiOiB7DQogICAgICAgICAgIktuaWZlLmRsbCI6IHt9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiQ291bnRlclN0cmlrZVNoYXJwLkFQSS8xLjAuMzU1Ijogew0KICAgICAgICAiZGVwZW5kZW5jaWVzIjogew0KICAgICAgICAgICJNY01hc3Rlci5ORVRDb3JlLlBsdWdpbnMiOiAiMS40LjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Ib3N0aW5nIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuSG9zdGluZy5BYnN0cmFjdGlvbnMiOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Mb2NhbGl6YXRpb24uQWJzdHJhY3Rpb25zIjogIjguMC4zIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZyI6ICI4LjAuMCIsDQogICAgICAgICAgIlNjcnV0b3IiOiAiNC4yLjIiLA0KICAgICAgICAgICJTZXJpbG9nLkV4dGVuc2lvbnMuTG9nZ2luZyI6ICI4LjAuMCIsDQogICAgICAgICAgIlNlcmlsb2cuU2lua3MuQ29uc29sZSI6ICI1LjAuMCIsDQogICAgICAgICAgIlNlcmlsb2cuU2lua3MuRmlsZSI6ICI1LjAuMCIsDQogICAgICAgICAgIlRvbWx5biI6ICIwLjE5LjAiDQogICAgICAgIH0sDQogICAgICAgICJydW50aW1lIjogew0KICAgICAgICAgICJsaWIvbmV0OC4wL0NvdW50ZXJTdHJpa2VTaGFycC5BUEkuZGxsIjogew0KICAgICAgICAgICAgImFzc2VtYmx5VmVyc2lvbiI6ICIxLjAuMzU1LjAiLA0KICAgICAgICAgICAgImZpbGVWZXJzaW9uIjogIjEuMC4zNTUuMCINCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiTWNNYXN0ZXIuTkVUQ29yZS5QbHVnaW5zLzEuNC4wIjogew0KICAgICAgICAiZGVwZW5kZW5jaWVzIjogew0KICAgICAgICAgICJNaWNyb3NvZnQuRG90TmV0LlBsYXRmb3JtQWJzdHJhY3Rpb25zIjogIjMuMS42IiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRGVwZW5kZW5jeU1vZGVsIjogIjYuMC4wIg0KICAgICAgICB9LA0KICAgICAgICAicnVudGltZSI6IHsNCiAgICAgICAgICAibGliL25ldGNvcmVhcHAzLjEvTWNNYXN0ZXIuTkVUQ29yZS5QbHVnaW5zLmRsbCI6IHsNCiAgICAgICAgICAgICJhc3NlbWJseVZlcnNpb24iOiAiMS40LjAuMCIsDQogICAgICAgICAgICAiZmlsZVZlcnNpb24iOiAiMS40LjAuMCINCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiTWljcm9zb2Z0LkRvdE5ldC5QbGF0Zm9ybUFic3RyYWN0aW9ucy8zLjEuNiI6IHsNCiAgICAgICAgInJ1bnRpbWUiOiB7DQogICAgICAgICAgImxpYi9uZXRzdGFuZGFyZDIuMC9NaWNyb3NvZnQuRG90TmV0LlBsYXRmb3JtQWJzdHJhY3Rpb25zLmRsbCI6IHsNCiAgICAgICAgICAgICJhc3NlbWJseVZlcnNpb24iOiAiMy4xLjYuMCIsDQogICAgICAgICAgICAiZmlsZVZlcnNpb24iOiAiMy4xMDAuNjIwLjMxNjA0Ig0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Db25maWd1cmF0aW9uLzguMC4wIjogew0KICAgICAgICAiZGVwZW5kZW5jaWVzIjogew0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Db25maWd1cmF0aW9uLkFic3RyYWN0aW9ucyI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLlByaW1pdGl2ZXMiOiAiOC4wLjAiDQogICAgICAgIH0sDQogICAgICAgICJydW50aW1lIjogew0KICAgICAgICAgICJsaWIvbmV0OC4wL01pY3Jvc29mdC5FeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24uZGxsIjogew0KICAgICAgICAgICAgImFzc2VtYmx5VmVyc2lvbiI6ICI4LjAuMC4wIiwNCiAgICAgICAgICAgICJmaWxlVmVyc2lvbiI6ICI4LjAuMjMuNTMxMDMiDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24uQWJzdHJhY3Rpb25zLzguMC4wIjogew0KICAgICAgICAiZGVwZW5kZW5jaWVzIjogew0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5QcmltaXRpdmVzIjogIjguMC4wIg0KICAgICAgICB9LA0KICAgICAgICAicnVudGltZSI6IHsNCiAgICAgICAgICAibGliL25ldDguMC9NaWNyb3NvZnQuRXh0ZW5zaW9ucy5Db25maWd1cmF0aW9uLkFic3RyYWN0aW9ucy5kbGwiOiB7DQogICAgICAgICAgICAiYXNzZW1ibHlWZXJzaW9uIjogIjguMC4wLjAiLA0KICAgICAgICAgICAgImZpbGVWZXJzaW9uIjogIjguMC4yMy41MzEwMyINCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5CaW5kZXIvOC4wLjAiOiB7DQogICAgICAgICJkZXBlbmRlbmNpZXMiOiB7DQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24uQWJzdHJhY3Rpb25zIjogIjguMC4wIg0KICAgICAgICB9LA0KICAgICAgICAicnVudGltZSI6IHsNCiAgICAgICAgICAibGliL25ldDguMC9NaWNyb3NvZnQuRXh0ZW5zaW9ucy5Db25maWd1cmF0aW9uLkJpbmRlci5kbGwiOiB7DQogICAgICAgICAgICAiYXNzZW1ibHlWZXJzaW9uIjogIjguMC4wLjAiLA0KICAgICAgICAgICAgImZpbGVWZXJzaW9uIjogIjguMC4yMy41MzEwMyINCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5Db21tYW5kTGluZS84LjAuMCI6IHsNCiAgICAgICAgImRlcGVuZGVuY2llcyI6IHsNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbiI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24uQWJzdHJhY3Rpb25zIjogIjguMC4wIg0KICAgICAgICB9LA0KICAgICAgICAicnVudGltZSI6IHsNCiAgICAgICAgICAibGliL25ldDguMC9NaWNyb3NvZnQuRXh0ZW5zaW9ucy5Db25maWd1cmF0aW9uLkNvbW1hbmRMaW5lLmRsbCI6IHsNCiAgICAgICAgICAgICJhc3NlbWJseVZlcnNpb24iOiAiOC4wLjAuMCIsDQogICAgICAgICAgICAiZmlsZVZlcnNpb24iOiAiOC4wLjIzLjUzMTAzIg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Db25maWd1cmF0aW9uLkVudmlyb25tZW50VmFyaWFibGVzLzguMC4wIjogew0KICAgICAgICAiZGVwZW5kZW5jaWVzIjogew0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Db25maWd1cmF0aW9uIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5BYnN0cmFjdGlvbnMiOiAiOC4wLjAiDQogICAgICAgIH0sDQogICAgICAgICJydW50aW1lIjogew0KICAgICAgICAgICJsaWIvbmV0OC4wL01pY3Jvc29mdC5FeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24uRW52aXJvbm1lbnRWYXJpYWJsZXMuZGxsIjogew0KICAgICAgICAgICAgImFzc2VtYmx5VmVyc2lvbiI6ICI4LjAuMC4wIiwNCiAgICAgICAgICAgICJmaWxlVmVyc2lvbiI6ICI4LjAuMjMuNTMxMDMiDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24uRmlsZUV4dGVuc2lvbnMvOC4wLjAiOiB7DQogICAgICAgICJkZXBlbmRlbmNpZXMiOiB7DQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24iOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Db25maWd1cmF0aW9uLkFic3RyYWN0aW9ucyI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkZpbGVQcm92aWRlcnMuQWJzdHJhY3Rpb25zIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRmlsZVByb3ZpZGVycy5QaHlzaWNhbCI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLlByaW1pdGl2ZXMiOiAiOC4wLjAiDQogICAgICAgIH0sDQogICAgICAgICJydW50aW1lIjogew0KICAgICAgICAgICJsaWIvbmV0OC4wL01pY3Jvc29mdC5FeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24uRmlsZUV4dGVuc2lvbnMuZGxsIjogew0KICAgICAgICAgICAgImFzc2VtYmx5VmVyc2lvbiI6ICI4LjAuMC4wIiwNCiAgICAgICAgICAgICJmaWxlVmVyc2lvbiI6ICI4LjAuMjMuNTMxMDMiDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24uSnNvbi84LjAuMCI6IHsNCiAgICAgICAgImRlcGVuZGVuY2llcyI6IHsNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbiI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24uQWJzdHJhY3Rpb25zIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5GaWxlRXh0ZW5zaW9ucyI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkZpbGVQcm92aWRlcnMuQWJzdHJhY3Rpb25zIjogIjguMC4wIg0KICAgICAgICB9LA0KICAgICAgICAicnVudGltZSI6IHsNCiAgICAgICAgICAibGliL25ldDguMC9NaWNyb3NvZnQuRXh0ZW5zaW9ucy5Db25maWd1cmF0aW9uLkpzb24uZGxsIjogew0KICAgICAgICAgICAgImFzc2VtYmx5VmVyc2lvbiI6ICI4LjAuMC4wIiwNCiAgICAgICAgICAgICJmaWxlVmVyc2lvbiI6ICI4LjAuMjMuNTMxMDMiDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24uVXNlclNlY3JldHMvOC4wLjAiOiB7DQogICAgICAgICJkZXBlbmRlbmNpZXMiOiB7DQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24uQWJzdHJhY3Rpb25zIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5Kc29uIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRmlsZVByb3ZpZGVycy5BYnN0cmFjdGlvbnMiOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5GaWxlUHJvdmlkZXJzLlBoeXNpY2FsIjogIjguMC4wIg0KICAgICAgICB9LA0KICAgICAgICAicnVudGltZSI6IHsNCiAgICAgICAgICAibGliL25ldDguMC9NaWNyb3NvZnQuRXh0ZW5zaW9ucy5Db25maWd1cmF0aW9uLlVzZXJTZWNyZXRzLmRsbCI6IHsNCiAgICAgICAgICAgICJhc3NlbWJseVZlcnNpb24iOiAiOC4wLjAuMCIsDQogICAgICAgICAgICAiZmlsZVZlcnNpb24iOiAiOC4wLjIzLjUzMTAzIg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5EZXBlbmRlbmN5SW5qZWN0aW9uLzguMC4wIjogew0KICAgICAgICAiZGVwZW5kZW5jaWVzIjogew0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5EZXBlbmRlbmN5SW5qZWN0aW9uLkFic3RyYWN0aW9ucyI6ICI4LjAuMCINCiAgICAgICAgfSwNCiAgICAgICAgInJ1bnRpbWUiOiB7DQogICAgICAgICAgImxpYi9uZXQ4LjAvTWljcm9zb2Z0LkV4dGVuc2lvbnMuRGVwZW5kZW5jeUluamVjdGlvbi5kbGwiOiB7DQogICAgICAgICAgICAiYXNzZW1ibHlWZXJzaW9uIjogIjguMC4wLjAiLA0KICAgICAgICAgICAgImZpbGVWZXJzaW9uIjogIjguMC4yMy41MzEwMyINCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRGVwZW5kZW5jeUluamVjdGlvbi5BYnN0cmFjdGlvbnMvOC4wLjAiOiB7DQogICAgICAgICJydW50aW1lIjogew0KICAgICAgICAgICJsaWIvbmV0OC4wL01pY3Jvc29mdC5FeHRlbnNpb25zLkRlcGVuZGVuY3lJbmplY3Rpb24uQWJzdHJhY3Rpb25zLmRsbCI6IHsNCiAgICAgICAgICAgICJhc3NlbWJseVZlcnNpb24iOiAiOC4wLjAuMCIsDQogICAgICAgICAgICAiZmlsZVZlcnNpb24iOiAiOC4wLjIzLjUzMTAzIg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5EZXBlbmRlbmN5TW9kZWwvNi4wLjAiOiB7DQogICAgICAgICJydW50aW1lIjogew0KICAgICAgICAgICJsaWIvbmV0c3RhbmRhcmQyLjAvTWljcm9zb2Z0LkV4dGVuc2lvbnMuRGVwZW5kZW5jeU1vZGVsLmRsbCI6IHsNCiAgICAgICAgICAgICJhc3NlbWJseVZlcnNpb24iOiAiNi4wLjAuMCIsDQogICAgICAgICAgICAiZmlsZVZlcnNpb24iOiAiNi4wLjIxLjUyMjEwIg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5EaWFnbm9zdGljcy84LjAuMCI6IHsNCiAgICAgICAgImRlcGVuZGVuY2llcyI6IHsNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbiI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkRpYWdub3N0aWNzLkFic3RyYWN0aW9ucyI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLk9wdGlvbnMuQ29uZmlndXJhdGlvbkV4dGVuc2lvbnMiOiAiOC4wLjAiDQogICAgICAgIH0sDQogICAgICAgICJydW50aW1lIjogew0KICAgICAgICAgICJsaWIvbmV0OC4wL01pY3Jvc29mdC5FeHRlbnNpb25zLkRpYWdub3N0aWNzLmRsbCI6IHsNCiAgICAgICAgICAgICJhc3NlbWJseVZlcnNpb24iOiAiOC4wLjAuMCIsDQogICAgICAgICAgICAiZmlsZVZlcnNpb24iOiAiOC4wLjIzLjUzMTAzIg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5EaWFnbm9zdGljcy5BYnN0cmFjdGlvbnMvOC4wLjAiOiB7DQogICAgICAgICJkZXBlbmRlbmNpZXMiOiB7DQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkRlcGVuZGVuY3lJbmplY3Rpb24uQWJzdHJhY3Rpb25zIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuT3B0aW9ucyI6ICI4LjAuMCINCiAgICAgICAgfSwNCiAgICAgICAgInJ1bnRpbWUiOiB7DQogICAgICAgICAgImxpYi9uZXQ4LjAvTWljcm9zb2Z0LkV4dGVuc2lvbnMuRGlhZ25vc3RpY3MuQWJzdHJhY3Rpb25zLmRsbCI6IHsNCiAgICAgICAgICAgICJhc3NlbWJseVZlcnNpb24iOiAiOC4wLjAuMCIsDQogICAgICAgICAgICAiZmlsZVZlcnNpb24iOiAiOC4wLjIzLjUzMTAzIg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5GaWxlUHJvdmlkZXJzLkFic3RyYWN0aW9ucy84LjAuMCI6IHsNCiAgICAgICAgImRlcGVuZGVuY2llcyI6IHsNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuUHJpbWl0aXZlcyI6ICI4LjAuMCINCiAgICAgICAgfSwNCiAgICAgICAgInJ1bnRpbWUiOiB7DQogICAgICAgICAgImxpYi9uZXQ4LjAvTWljcm9zb2Z0LkV4dGVuc2lvbnMuRmlsZVByb3ZpZGVycy5BYnN0cmFjdGlvbnMuZGxsIjogew0KICAgICAgICAgICAgImFzc2VtYmx5VmVyc2lvbiI6ICI4LjAuMC4wIiwNCiAgICAgICAgICAgICJmaWxlVmVyc2lvbiI6ICI4LjAuMjMuNTMxMDMiDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkZpbGVQcm92aWRlcnMuUGh5c2ljYWwvOC4wLjAiOiB7DQogICAgICAgICJkZXBlbmRlbmNpZXMiOiB7DQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkZpbGVQcm92aWRlcnMuQWJzdHJhY3Rpb25zIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRmlsZVN5c3RlbUdsb2JiaW5nIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuUHJpbWl0aXZlcyI6ICI4LjAuMCINCiAgICAgICAgfSwNCiAgICAgICAgInJ1bnRpbWUiOiB7DQogICAgICAgICAgImxpYi9uZXQ4LjAvTWljcm9zb2Z0LkV4dGVuc2lvbnMuRmlsZVByb3ZpZGVycy5QaHlzaWNhbC5kbGwiOiB7DQogICAgICAgICAgICAiYXNzZW1ibHlWZXJzaW9uIjogIjguMC4wLjAiLA0KICAgICAgICAgICAgImZpbGVWZXJzaW9uIjogIjguMC4yMy41MzEwMyINCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRmlsZVN5c3RlbUdsb2JiaW5nLzguMC4wIjogew0KICAgICAgICAicnVudGltZSI6IHsNCiAgICAgICAgICAibGliL25ldDguMC9NaWNyb3NvZnQuRXh0ZW5zaW9ucy5GaWxlU3lzdGVtR2xvYmJpbmcuZGxsIjogew0KICAgICAgICAgICAgImFzc2VtYmx5VmVyc2lvbiI6ICI4LjAuMC4wIiwNCiAgICAgICAgICAgICJmaWxlVmVyc2lvbiI6ICI4LjAuMjMuNTMxMDMiDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkhvc3RpbmcvOC4wLjAiOiB7DQogICAgICAgICJkZXBlbmRlbmNpZXMiOiB7DQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24iOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Db25maWd1cmF0aW9uLkFic3RyYWN0aW9ucyI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24uQmluZGVyIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5Db21tYW5kTGluZSI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24uRW52aXJvbm1lbnRWYXJpYWJsZXMiOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Db25maWd1cmF0aW9uLkZpbGVFeHRlbnNpb25zIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5Kc29uIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5Vc2VyU2VjcmV0cyI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkRlcGVuZGVuY3lJbmplY3Rpb24iOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5EZXBlbmRlbmN5SW5qZWN0aW9uLkFic3RyYWN0aW9ucyI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkRpYWdub3N0aWNzIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRmlsZVByb3ZpZGVycy5BYnN0cmFjdGlvbnMiOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5GaWxlUHJvdmlkZXJzLlBoeXNpY2FsIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuSG9zdGluZy5BYnN0cmFjdGlvbnMiOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Mb2dnaW5nIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5BYnN0cmFjdGlvbnMiOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Mb2dnaW5nLkNvbmZpZ3VyYXRpb24iOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Mb2dnaW5nLkNvbnNvbGUiOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Mb2dnaW5nLkRlYnVnIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5FdmVudExvZyI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkxvZ2dpbmcuRXZlbnRTb3VyY2UiOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5PcHRpb25zIjogIjguMC4wIg0KICAgICAgICB9LA0KICAgICAgICAicnVudGltZSI6IHsNCiAgICAgICAgICAibGliL25ldDguMC9NaWNyb3NvZnQuRXh0ZW5zaW9ucy5Ib3N0aW5nLmRsbCI6IHsNCiAgICAgICAgICAgICJhc3NlbWJseVZlcnNpb24iOiAiOC4wLjAuMCIsDQogICAgICAgICAgICAiZmlsZVZlcnNpb24iOiAiOC4wLjIzLjUzMTAzIg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Ib3N0aW5nLkFic3RyYWN0aW9ucy84LjAuMCI6IHsNCiAgICAgICAgImRlcGVuZGVuY2llcyI6IHsNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5BYnN0cmFjdGlvbnMiOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5EZXBlbmRlbmN5SW5qZWN0aW9uLkFic3RyYWN0aW9ucyI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkRpYWdub3N0aWNzLkFic3RyYWN0aW9ucyI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkZpbGVQcm92aWRlcnMuQWJzdHJhY3Rpb25zIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5BYnN0cmFjdGlvbnMiOiAiOC4wLjAiDQogICAgICAgIH0sDQogICAgICAgICJydW50aW1lIjogew0KICAgICAgICAgICJsaWIvbmV0OC4wL01pY3Jvc29mdC5FeHRlbnNpb25zLkhvc3RpbmcuQWJzdHJhY3Rpb25zLmRsbCI6IHsNCiAgICAgICAgICAgICJhc3NlbWJseVZlcnNpb24iOiAiOC4wLjAuMCIsDQogICAgICAgICAgICAiZmlsZVZlcnNpb24iOiAiOC4wLjIzLjUzMTAzIg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Mb2NhbGl6YXRpb24uQWJzdHJhY3Rpb25zLzguMC4zIjogew0KICAgICAgICAicnVudGltZSI6IHsNCiAgICAgICAgICAibGliL25ldDguMC9NaWNyb3NvZnQuRXh0ZW5zaW9ucy5Mb2NhbGl6YXRpb24uQWJzdHJhY3Rpb25zLmRsbCI6IHsNCiAgICAgICAgICAgICJhc3NlbWJseVZlcnNpb24iOiAiOC4wLjAuMCIsDQogICAgICAgICAgICAiZmlsZVZlcnNpb24iOiAiOC4wLjMyNC4xMTYxNSINCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy84LjAuMCI6IHsNCiAgICAgICAgImRlcGVuZGVuY2llcyI6IHsNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRGVwZW5kZW5jeUluamVjdGlvbiI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkxvZ2dpbmcuQWJzdHJhY3Rpb25zIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuT3B0aW9ucyI6ICI4LjAuMCINCiAgICAgICAgfSwNCiAgICAgICAgInJ1bnRpbWUiOiB7DQogICAgICAgICAgImxpYi9uZXQ4LjAvTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5kbGwiOiB7DQogICAgICAgICAgICAiYXNzZW1ibHlWZXJzaW9uIjogIjguMC4wLjAiLA0KICAgICAgICAgICAgImZpbGVWZXJzaW9uIjogIjguMC4yMy41MzEwMyINCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5BYnN0cmFjdGlvbnMvOC4wLjAiOiB7DQogICAgICAgICJkZXBlbmRlbmNpZXMiOiB7DQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkRlcGVuZGVuY3lJbmplY3Rpb24uQWJzdHJhY3Rpb25zIjogIjguMC4wIg0KICAgICAgICB9LA0KICAgICAgICAicnVudGltZSI6IHsNCiAgICAgICAgICAibGliL25ldDguMC9NaWNyb3NvZnQuRXh0ZW5zaW9ucy5Mb2dnaW5nLkFic3RyYWN0aW9ucy5kbGwiOiB7DQogICAgICAgICAgICAiYXNzZW1ibHlWZXJzaW9uIjogIjguMC4wLjAiLA0KICAgICAgICAgICAgImZpbGVWZXJzaW9uIjogIjguMC4yMy41MzEwMyINCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5Db25maWd1cmF0aW9uLzguMC4wIjogew0KICAgICAgICAiZGVwZW5kZW5jaWVzIjogew0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Db25maWd1cmF0aW9uIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5BYnN0cmFjdGlvbnMiOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Db25maWd1cmF0aW9uLkJpbmRlciI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkRlcGVuZGVuY3lJbmplY3Rpb24uQWJzdHJhY3Rpb25zIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZyI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkxvZ2dpbmcuQWJzdHJhY3Rpb25zIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuT3B0aW9ucyI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLk9wdGlvbnMuQ29uZmlndXJhdGlvbkV4dGVuc2lvbnMiOiAiOC4wLjAiDQogICAgICAgIH0sDQogICAgICAgICJydW50aW1lIjogew0KICAgICAgICAgICJsaWIvbmV0OC4wL01pY3Jvc29mdC5FeHRlbnNpb25zLkxvZ2dpbmcuQ29uZmlndXJhdGlvbi5kbGwiOiB7DQogICAgICAgICAgICAiYXNzZW1ibHlWZXJzaW9uIjogIjguMC4wLjAiLA0KICAgICAgICAgICAgImZpbGVWZXJzaW9uIjogIjguMC4yMy41MzEwMyINCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5Db25zb2xlLzguMC4wIjogew0KICAgICAgICAiZGVwZW5kZW5jaWVzIjogew0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5EZXBlbmRlbmN5SW5qZWN0aW9uLkFic3RyYWN0aW9ucyI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkxvZ2dpbmciOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Mb2dnaW5nLkFic3RyYWN0aW9ucyI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkxvZ2dpbmcuQ29uZmlndXJhdGlvbiI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLk9wdGlvbnMiOiAiOC4wLjAiDQogICAgICAgIH0sDQogICAgICAgICJydW50aW1lIjogew0KICAgICAgICAgICJsaWIvbmV0OC4wL01pY3Jvc29mdC5FeHRlbnNpb25zLkxvZ2dpbmcuQ29uc29sZS5kbGwiOiB7DQogICAgICAgICAgICAiYXNzZW1ibHlWZXJzaW9uIjogIjguMC4wLjAiLA0KICAgICAgICAgICAgImZpbGVWZXJzaW9uIjogIjguMC4yMy41MzEwMyINCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5EZWJ1Zy84LjAuMCI6IHsNCiAgICAgICAgImRlcGVuZGVuY2llcyI6IHsNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRGVwZW5kZW5jeUluamVjdGlvbi5BYnN0cmFjdGlvbnMiOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Mb2dnaW5nIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5BYnN0cmFjdGlvbnMiOiAiOC4wLjAiDQogICAgICAgIH0sDQogICAgICAgICJydW50aW1lIjogew0KICAgICAgICAgICJsaWIvbmV0OC4wL01pY3Jvc29mdC5FeHRlbnNpb25zLkxvZ2dpbmcuRGVidWcuZGxsIjogew0KICAgICAgICAgICAgImFzc2VtYmx5VmVyc2lvbiI6ICI4LjAuMC4wIiwNCiAgICAgICAgICAgICJmaWxlVmVyc2lvbiI6ICI4LjAuMjMuNTMxMDMiDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkxvZ2dpbmcuRXZlbnRMb2cvOC4wLjAiOiB7DQogICAgICAgICJkZXBlbmRlbmNpZXMiOiB7DQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkRlcGVuZGVuY3lJbmplY3Rpb24uQWJzdHJhY3Rpb25zIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZyI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkxvZ2dpbmcuQWJzdHJhY3Rpb25zIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuT3B0aW9ucyI6ICI4LjAuMCIsDQogICAgICAgICAgIlN5c3RlbS5EaWFnbm9zdGljcy5FdmVudExvZyI6ICI4LjAuMCINCiAgICAgICAgfSwNCiAgICAgICAgInJ1bnRpbWUiOiB7DQogICAgICAgICAgImxpYi9uZXQ4LjAvTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5FdmVudExvZy5kbGwiOiB7DQogICAgICAgICAgICAiYXNzZW1ibHlWZXJzaW9uIjogIjguMC4wLjAiLA0KICAgICAgICAgICAgImZpbGVWZXJzaW9uIjogIjguMC4yMy41MzEwMyINCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5FdmVudFNvdXJjZS84LjAuMCI6IHsNCiAgICAgICAgImRlcGVuZGVuY2llcyI6IHsNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRGVwZW5kZW5jeUluamVjdGlvbi5BYnN0cmFjdGlvbnMiOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Mb2dnaW5nIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5BYnN0cmFjdGlvbnMiOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5PcHRpb25zIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuUHJpbWl0aXZlcyI6ICI4LjAuMCINCiAgICAgICAgfSwNCiAgICAgICAgInJ1bnRpbWUiOiB7DQogICAgICAgICAgImxpYi9uZXQ4LjAvTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5FdmVudFNvdXJjZS5kbGwiOiB7DQogICAgICAgICAgICAiYXNzZW1ibHlWZXJzaW9uIjogIjguMC4wLjAiLA0KICAgICAgICAgICAgImZpbGVWZXJzaW9uIjogIjguMC4yMy41MzEwMyINCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuT3B0aW9ucy84LjAuMCI6IHsNCiAgICAgICAgImRlcGVuZGVuY2llcyI6IHsNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRGVwZW5kZW5jeUluamVjdGlvbi5BYnN0cmFjdGlvbnMiOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5QcmltaXRpdmVzIjogIjguMC4wIg0KICAgICAgICB9LA0KICAgICAgICAicnVudGltZSI6IHsNCiAgICAgICAgICAibGliL25ldDguMC9NaWNyb3NvZnQuRXh0ZW5zaW9ucy5PcHRpb25zLmRsbCI6IHsNCiAgICAgICAgICAgICJhc3NlbWJseVZlcnNpb24iOiAiOC4wLjAuMCIsDQogICAgICAgICAgICAiZmlsZVZlcnNpb24iOiAiOC4wLjIzLjUzMTAzIg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5PcHRpb25zLkNvbmZpZ3VyYXRpb25FeHRlbnNpb25zLzguMC4wIjogew0KICAgICAgICAiZGVwZW5kZW5jaWVzIjogew0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Db25maWd1cmF0aW9uLkFic3RyYWN0aW9ucyI6ICI4LjAuMCIsDQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24uQmluZGVyIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRGVwZW5kZW5jeUluamVjdGlvbi5BYnN0cmFjdGlvbnMiOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5PcHRpb25zIjogIjguMC4wIiwNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuUHJpbWl0aXZlcyI6ICI4LjAuMCINCiAgICAgICAgfSwNCiAgICAgICAgInJ1bnRpbWUiOiB7DQogICAgICAgICAgImxpYi9uZXQ4LjAvTWljcm9zb2Z0LkV4dGVuc2lvbnMuT3B0aW9ucy5Db25maWd1cmF0aW9uRXh0ZW5zaW9ucy5kbGwiOiB7DQogICAgICAgICAgICAiYXNzZW1ibHlWZXJzaW9uIjogIjguMC4wLjAiLA0KICAgICAgICAgICAgImZpbGVWZXJzaW9uIjogIjguMC4yMy41MzEwMyINCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuUHJpbWl0aXZlcy84LjAuMCI6IHsNCiAgICAgICAgInJ1bnRpbWUiOiB7DQogICAgICAgICAgImxpYi9uZXQ4LjAvTWljcm9zb2Z0LkV4dGVuc2lvbnMuUHJpbWl0aXZlcy5kbGwiOiB7DQogICAgICAgICAgICAiYXNzZW1ibHlWZXJzaW9uIjogIjguMC4wLjAiLA0KICAgICAgICAgICAgImZpbGVWZXJzaW9uIjogIjguMC4yMy41MzEwMyINCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiU2NydXRvci80LjIuMiI6IHsNCiAgICAgICAgImRlcGVuZGVuY2llcyI6IHsNCiAgICAgICAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRGVwZW5kZW5jeUluamVjdGlvbi5BYnN0cmFjdGlvbnMiOiAiOC4wLjAiLA0KICAgICAgICAgICJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5EZXBlbmRlbmN5TW9kZWwiOiAiNi4wLjAiDQogICAgICAgIH0sDQogICAgICAgICJydW50aW1lIjogew0KICAgICAgICAgICJsaWIvbmV0Ni4wL1NjcnV0b3IuZGxsIjogew0KICAgICAgICAgICAgImFzc2VtYmx5VmVyc2lvbiI6ICI0LjAuMC4wIiwNCiAgICAgICAgICAgICJmaWxlVmVyc2lvbiI6ICI0LjAuMC4wIg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgICJTZXJpbG9nLzMuMS4xIjogew0KICAgICAgICAicnVudGltZSI6IHsNCiAgICAgICAgICAibGliL25ldDcuMC9TZXJpbG9nLmRsbCI6IHsNCiAgICAgICAgICAgICJhc3NlbWJseVZlcnNpb24iOiAiMi4wLjAuMCIsDQogICAgICAgICAgICAiZmlsZVZlcnNpb24iOiAiMy4xLjEuMCINCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiU2VyaWxvZy5FeHRlbnNpb25zLkxvZ2dpbmcvOC4wLjAiOiB7DQogICAgICAgICJkZXBlbmRlbmNpZXMiOiB7DQogICAgICAgICAgIk1pY3Jvc29mdC5FeHRlbnNpb25zLkxvZ2dpbmciOiAiOC4wLjAiLA0KICAgICAgICAgICJTZXJpbG9nIjogIjMuMS4xIg0KICAgICAgICB9LA0KICAgICAgICAicnVudGltZSI6IHsNCiAgICAgICAgICAibGliL25ldDguMC9TZXJpbG9nLkV4dGVuc2lvbnMuTG9nZ2luZy5kbGwiOiB7DQogICAgICAgICAgICAiYXNzZW1ibHlWZXJzaW9uIjogIjcuMC4wLjAiLA0KICAgICAgICAgICAgImZpbGVWZXJzaW9uIjogIjguMC4wLjAiDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgIlNlcmlsb2cuU2lua3MuQ29uc29sZS81LjAuMCI6IHsNCiAgICAgICAgImRlcGVuZGVuY2llcyI6IHsNCiAgICAgICAgICAiU2VyaWxvZyI6ICIzLjEuMSINCiAgICAgICAgfSwNCiAgICAgICAgInJ1bnRpbWUiOiB7DQogICAgICAgICAgImxpYi9uZXQ3LjAvU2VyaWxvZy5TaW5rcy5Db25zb2xlLmRsbCI6IHsNCiAgICAgICAgICAgICJhc3NlbWJseVZlcnNpb24iOiAiNS4wLjAuMCIsDQogICAgICAgICAgICAiZmlsZVZlcnNpb24iOiAiNS4wLjAuMCINCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiU2VyaWxvZy5TaW5rcy5GaWxlLzUuMC4wIjogew0KICAgICAgICAiZGVwZW5kZW5jaWVzIjogew0KICAgICAgICAgICJTZXJpbG9nIjogIjMuMS4xIg0KICAgICAgICB9LA0KICAgICAgICAicnVudGltZSI6IHsNCiAgICAgICAgICAibGliL25ldDUuMC9TZXJpbG9nLlNpbmtzLkZpbGUuZGxsIjogew0KICAgICAgICAgICAgImFzc2VtYmx5VmVyc2lvbiI6ICI1LjAuMC4wIiwNCiAgICAgICAgICAgICJmaWxlVmVyc2lvbiI6ICI1LjAuMC4wIg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgICJTeXN0ZW0uRGlhZ25vc3RpY3MuRXZlbnRMb2cvOC4wLjAiOiB7DQogICAgICAgICJydW50aW1lIjogew0KICAgICAgICAgICJsaWIvbmV0OC4wL1N5c3RlbS5EaWFnbm9zdGljcy5FdmVudExvZy5kbGwiOiB7DQogICAgICAgICAgICAiYXNzZW1ibHlWZXJzaW9uIjogIjguMC4wLjAiLA0KICAgICAgICAgICAgImZpbGVWZXJzaW9uIjogIjguMC4yMy41MzEwMyINCiAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgICJydW50aW1lVGFyZ2V0cyI6IHsNCiAgICAgICAgICAicnVudGltZXMvd2luL2xpYi9uZXQ4LjAvU3lzdGVtLkRpYWdub3N0aWNzLkV2ZW50TG9nLk1lc3NhZ2VzLmRsbCI6IHsNCiAgICAgICAgICAgICJyaWQiOiAid2luIiwNCiAgICAgICAgICAgICJhc3NldFR5cGUiOiAicnVudGltZSIsDQogICAgICAgICAgICAiYXNzZW1ibHlWZXJzaW9uIjogIjguMC4wLjAiLA0KICAgICAgICAgICAgImZpbGVWZXJzaW9uIjogIjAuMC4wLjAiDQogICAgICAgICAgfSwNCiAgICAgICAgICAicnVudGltZXMvd2luL2xpYi9uZXQ4LjAvU3lzdGVtLkRpYWdub3N0aWNzLkV2ZW50TG9nLmRsbCI6IHsNCiAgICAgICAgICAgICJyaWQiOiAid2luIiwNCiAgICAgICAgICAgICJhc3NldFR5cGUiOiAicnVudGltZSIsDQogICAgICAgICAgICAiYXNzZW1ibHlWZXJzaW9uIjogIjguMC4wLjAiLA0KICAgICAgICAgICAgImZpbGVWZXJzaW9uIjogIjguMC4yMy41MzEwMyINCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICAiVG9tbHluLzAuMTkuMCI6IHsNCiAgICAgICAgInJ1bnRpbWUiOiB7DQogICAgICAgICAgImxpYi9uZXQ4LjAvVG9tbHluLmRsbCI6IHsNCiAgICAgICAgICAgICJhc3NlbWJseVZlcnNpb24iOiAiMC4xOS4wLjAiLA0KICAgICAgICAgICAgImZpbGVWZXJzaW9uIjogIjAuMTkuMC4wIg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgImxpYnJhcmllcyI6IHsNCiAgICAiS25pZmUvMS4wLjAiOiB7DQogICAgICAidHlwZSI6ICJwcm9qZWN0IiwNCiAgICAgICJzZXJ2aWNlYWJsZSI6IGZhbHNlLA0KICAgICAgInNoYTUxMiI6ICIiDQogICAgfSwNCiAgICAiQ291bnRlclN0cmlrZVNoYXJwLkFQSS8xLjAuMzU1Ijogew0KICAgICAgInR5cGUiOiAicGFja2FnZSIsDQogICAgICAic2VydmljZWFibGUiOiB0cnVlLA0KICAgICAgInNoYTUxMiI6ICJzaGE1MTItbGpHMkpzWTJKSHhOVTVyZE1SN0o4U0NtSjJZL2htdGlRQmxHTWNpTFVRcDJ0cmV3aGEyQ1FDbDZPSHdpeFh4SXQrR1VVdDYvUWRTaUpkTW9FRXdYV0E9PSIsDQogICAgICAicGF0aCI6ICJjb3VudGVyc3RyaWtlc2hhcnAuYXBpLzEuMC4zNTUiLA0KICAgICAgImhhc2hQYXRoIjogImNvdW50ZXJzdHJpa2VzaGFycC5hcGkuMS4wLjM1NS5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWNNYXN0ZXIuTkVUQ29yZS5QbHVnaW5zLzEuNC4wIjogew0KICAgICAgInR5cGUiOiAicGFja2FnZSIsDQogICAgICAic2VydmljZWFibGUiOiB0cnVlLA0KICAgICAgInNoYTUxMiI6ICJzaGE1MTItVUt3NVoyL1FIaGtSN2tpQUptcWRDd1ZETVFWMGx3c2ZqMTArRkc2NzZyOERzSldJcHh0YWNodEVqRTBxQnM5V29LNUdVUUlxeGd5RmVZVVN3dVBzemc9PSIsDQogICAgICAicGF0aCI6ICJtY21hc3Rlci5uZXRjb3JlLnBsdWdpbnMvMS40LjAiLA0KICAgICAgImhhc2hQYXRoIjogIm1jbWFzdGVyLm5ldGNvcmUucGx1Z2lucy4xLjQuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkRvdE5ldC5QbGF0Zm9ybUFic3RyYWN0aW9ucy8zLjEuNiI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLWplazRYWWFRL1BHVXdES0tod1I4SzQ3VWgxMTg5UEZ6TWVMcU84M21YclhRVklwQVJaQ2NmdURlZEg1MFlEVGVwQmtmaWpDWk41VS92WmkrK2VyeHRnPT0iLA0KICAgICAgInBhdGgiOiAibWljcm9zb2Z0LmRvdG5ldC5wbGF0Zm9ybWFic3RyYWN0aW9ucy8zLjEuNiIsDQogICAgICAiaGFzaFBhdGgiOiAibWljcm9zb2Z0LmRvdG5ldC5wbGF0Zm9ybWFic3RyYWN0aW9ucy4zLjEuNi5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi84LjAuMCI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLTBKLzlZTlhUTVdTWlAycDIrbnZsOHA3MXpwU3dva1pYWnVKVytWamRFcmtlZ0FuRmRPMVhscXRBNjJTSnRnVllIZEt1M3VQeEpIY01SL3IzNUh3RkJBPT0iLA0KICAgICAgInBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMuY29uZmlndXJhdGlvbi84LjAuMCIsDQogICAgICAiaGFzaFBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMuY29uZmlndXJhdGlvbi44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5BYnN0cmFjdGlvbnMvOC4wLjAiOiB7DQogICAgICAidHlwZSI6ICJwYWNrYWdlIiwNCiAgICAgICJzZXJ2aWNlYWJsZSI6IHRydWUsDQogICAgICAic2hhNTEyIjogInNoYTUxMi0zbEUvaUxTdXRwZ1gxQ0MwTk9XNzBGSm9HQVJSSGJ5S21HN2RjMGtsblVaOURkOWhTNk4vUE9QV2hLaE1MQ0V1Tk41blhFWTVhZ21sRnRINTYydnFoUT09IiwNCiAgICAgICJwYXRoIjogIm1pY3Jvc29mdC5leHRlbnNpb25zLmNvbmZpZ3VyYXRpb24uYWJzdHJhY3Rpb25zLzguMC4wIiwNCiAgICAgICJoYXNoUGF0aCI6ICJtaWNyb3NvZnQuZXh0ZW5zaW9ucy5jb25maWd1cmF0aW9uLmFic3RyYWN0aW9ucy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5CaW5kZXIvOC4wLjAiOiB7DQogICAgICAidHlwZSI6ICJwYWNrYWdlIiwNCiAgICAgICJzZXJ2aWNlYWJsZSI6IHRydWUsDQogICAgICAic2hhNTEyIjogInNoYTUxMi1tQk1vWExzcjVzMXkyek9IV21Lc0U5dmVEY3g4aDF4L2Mzcno0YmFFZFFLVGVEY21RQVBOYkI1NFBpL2xoRk8zSzQzMWVFcTZQRmJNZ0xhYTZQSEZmQT09IiwNCiAgICAgICJwYXRoIjogIm1pY3Jvc29mdC5leHRlbnNpb25zLmNvbmZpZ3VyYXRpb24uYmluZGVyLzguMC4wIiwNCiAgICAgICJoYXNoUGF0aCI6ICJtaWNyb3NvZnQuZXh0ZW5zaW9ucy5jb25maWd1cmF0aW9uLmJpbmRlci44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5Db21tYW5kTGluZS84LjAuMCI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLU5adVpNejNROFo3ODBuS1gzaWZWMWZFN2xTKzZweW5ESEs3MU9mVTRPWjFJdGd2RE9oeU9DN0U2eitKTVpyQWo2M3pScHdiZGxkWUZrNDk5dDMrMWRRPT0iLA0KICAgICAgInBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMuY29uZmlndXJhdGlvbi5jb21tYW5kbGluZS84LjAuMCIsDQogICAgICAiaGFzaFBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMuY29uZmlndXJhdGlvbi5jb21tYW5kbGluZS44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5FbnZpcm9ubWVudFZhcmlhYmxlcy84LjAuMCI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLXBsdlowWklwcSs5N2dkUE5Odmh3dnJFWjkya05tbDloZDFwZTNpZE1BN3N2UjBQenRkelZMa29XTGNSRmd5U1lYVUpjM2tTTTNYdzNtTkZNby9ieFJBPT0iLA0KICAgICAgInBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMuY29uZmlndXJhdGlvbi5lbnZpcm9ubWVudHZhcmlhYmxlcy84LjAuMCIsDQogICAgICAiaGFzaFBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMuY29uZmlndXJhdGlvbi5lbnZpcm9ubWVudHZhcmlhYmxlcy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5GaWxlRXh0ZW5zaW9ucy84LjAuMCI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLU1jUCtMei9FS3d2dEN2NDh6MFlJbXcrTDFnaTFneTVySGhOYU5JWTJDcmpsb1YrWFk4Z3lkVDhEak1SNnpXZUwxM0FGSytEaW9WcHBwd0F1TzFHaTF3PT0iLA0KICAgICAgInBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMuY29uZmlndXJhdGlvbi5maWxlZXh0ZW5zaW9ucy84LjAuMCIsDQogICAgICAiaGFzaFBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMuY29uZmlndXJhdGlvbi5maWxlZXh0ZW5zaW9ucy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5Kc29uLzguMC4wIjogew0KICAgICAgInR5cGUiOiAicGFja2FnZSIsDQogICAgICAic2VydmljZWFibGUiOiB0cnVlLA0KICAgICAgInNoYTUxMiI6ICJzaGE1MTItQzJ3cVVvaDlPbVJMMWFrYUNjS1NUbVJVOHowa2NrZkltRzd6TE5JOHV5aTQ3THAremQ1TFdBRDE3d2FQUUVxQ3ozaW9XT0NyRlVvK0pKdW9lWkxPQnc9PSIsDQogICAgICAicGF0aCI6ICJtaWNyb3NvZnQuZXh0ZW5zaW9ucy5jb25maWd1cmF0aW9uLmpzb24vOC4wLjAiLA0KICAgICAgImhhc2hQYXRoIjogIm1pY3Jvc29mdC5leHRlbnNpb25zLmNvbmZpZ3VyYXRpb24uanNvbi44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5Vc2VyU2VjcmV0cy84LjAuMCI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLWloREh1MmRKWVFpcmQ5cGwyQ2Jkd3VORGZ2Q1pkT1MwUzdTUGxOZmhQdDBCODFVVFQreXlaS3oycGltRlpHVXAzQWZ1QlJucVVDeEIyU2pzWktIVlV3PT0iLA0KICAgICAgInBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMuY29uZmlndXJhdGlvbi51c2Vyc2VjcmV0cy84LjAuMCIsDQogICAgICAiaGFzaFBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMuY29uZmlndXJhdGlvbi51c2Vyc2VjcmV0cy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRGVwZW5kZW5jeUluamVjdGlvbi84LjAuMCI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLVY4UzNic201MGlnNkpTeXJiY0pKOGJXMmI5UUxHb3V6K0cxbWlLM1VUYU9XbU10RndOTk56VWY0QWxleURXVW1UcldNTE5uRlNMRVF0eG14Z05Rbk5RPT0iLA0KICAgICAgInBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMuZGVwZW5kZW5jeWluamVjdGlvbi84LjAuMCIsDQogICAgICAiaGFzaFBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMuZGVwZW5kZW5jeWluamVjdGlvbi44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRGVwZW5kZW5jeUluamVjdGlvbi5BYnN0cmFjdGlvbnMvOC4wLjAiOiB7DQogICAgICAidHlwZSI6ICJwYWNrYWdlIiwNCiAgICAgICJzZXJ2aWNlYWJsZSI6IHRydWUsDQogICAgICAic2hhNTEyIjogInNoYTUxMi1jaldyTGtKWEswcnM0em9mc0s0YlNkZytqaERMVGF4cmtYdTRnUzZZN01BbEN2UnlOTmd3WS9sSmk1UkRsUU9uU1p3ZUhxb3l2Z3ZiZHZRc1JJVytoZz09IiwNCiAgICAgICJwYXRoIjogIm1pY3Jvc29mdC5leHRlbnNpb25zLmRlcGVuZGVuY3lpbmplY3Rpb24uYWJzdHJhY3Rpb25zLzguMC4wIiwNCiAgICAgICJoYXNoUGF0aCI6ICJtaWNyb3NvZnQuZXh0ZW5zaW9ucy5kZXBlbmRlbmN5aW5qZWN0aW9uLmFic3RyYWN0aW9ucy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRGVwZW5kZW5jeU1vZGVsLzYuMC4wIjogew0KICAgICAgInR5cGUiOiAicGFja2FnZSIsDQogICAgICAic2VydmljZWFibGUiOiB0cnVlLA0KICAgICAgInNoYTUxMiI6ICJzaGE1MTItVEQ1UUhnOThtMytRaGdFVjFZVm9OTWw1S3RCdy80cmpmeExITzBlL1lWOWJQVUJES250QXBQNHhkclZ0R2dDZVFaSFZmQzJFWElHc2RwUk5ycjg3UGc9PSIsDQogICAgICAicGF0aCI6ICJtaWNyb3NvZnQuZXh0ZW5zaW9ucy5kZXBlbmRlbmN5bW9kZWwvNi4wLjAiLA0KICAgICAgImhhc2hQYXRoIjogIm1pY3Jvc29mdC5leHRlbnNpb25zLmRlcGVuZGVuY3ltb2RlbC42LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRGlhZ25vc3RpY3MvOC4wLjAiOiB7DQogICAgICAidHlwZSI6ICJwYWNrYWdlIiwNCiAgICAgICJzZXJ2aWNlYWJsZSI6IHRydWUsDQogICAgICAic2hhNTEyIjogInNoYTUxMi0zUFpwL1lTa0lYckY3UUs3UGZDMWJreVJZd3FPSHBXRmFkOFF4KzR3a3V1bUFlWG8xTkhheHBTOUxib05BOU92TlNBdStRT1ZsWGJNeW9ZK3BIU3Fjdz09IiwNCiAgICAgICJwYXRoIjogIm1pY3Jvc29mdC5leHRlbnNpb25zLmRpYWdub3N0aWNzLzguMC4wIiwNCiAgICAgICJoYXNoUGF0aCI6ICJtaWNyb3NvZnQuZXh0ZW5zaW9ucy5kaWFnbm9zdGljcy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRGlhZ25vc3RpY3MuQWJzdHJhY3Rpb25zLzguMC4wIjogew0KICAgICAgInR5cGUiOiAicGFja2FnZSIsDQogICAgICAic2VydmljZWFibGUiOiB0cnVlLA0KICAgICAgInNoYTUxMiI6ICJzaGE1MTItSkhZQ1FHN0htdWdOWVVoT2wzNjhnK05NeFlFL04vQWljbENZUk5sZ0NZOWVWeWlCa09ITXdLNHg2MFJZTXh2OUVMMytybWoxbXFIdmRDaVBwQytENFE9PSIsDQogICAgICAicGF0aCI6ICJtaWNyb3NvZnQuZXh0ZW5zaW9ucy5kaWFnbm9zdGljcy5hYnN0cmFjdGlvbnMvOC4wLjAiLA0KICAgICAgImhhc2hQYXRoIjogIm1pY3Jvc29mdC5leHRlbnNpb25zLmRpYWdub3N0aWNzLmFic3RyYWN0aW9ucy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRmlsZVByb3ZpZGVycy5BYnN0cmFjdGlvbnMvOC4wLjAiOiB7DQogICAgICAidHlwZSI6ICJwYWNrYWdlIiwNCiAgICAgICJzZXJ2aWNlYWJsZSI6IHRydWUsDQogICAgICAic2hhNTEyIjogInNoYTUxMi1aYmFNbGhKbHBpc2p1V2J2WHI0TGRBc3QvMVh4SDN2WjZBMEJzZ1RwaFoyTDRQR3V4Ukx6N0pyL1M3bWtBQW5Pbjc4VnUwZktoRWdORjVKTzN6ZmpxUT09IiwNCiAgICAgICJwYXRoIjogIm1pY3Jvc29mdC5leHRlbnNpb25zLmZpbGVwcm92aWRlcnMuYWJzdHJhY3Rpb25zLzguMC4wIiwNCiAgICAgICJoYXNoUGF0aCI6ICJtaWNyb3NvZnQuZXh0ZW5zaW9ucy5maWxlcHJvdmlkZXJzLmFic3RyYWN0aW9ucy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRmlsZVByb3ZpZGVycy5QaHlzaWNhbC84LjAuMCI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLVVib2lYeHBQVXB3dWxIdklBVkUzNktucTBWU0hhQW1mckZrZWdMeUJaZWFBRHVLZXpKL0FJWFlBVzhGNUdCbEdrL1ZhaWJOMmsvWm4xY2E4WUFmVmRBPT0iLA0KICAgICAgInBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMuZmlsZXByb3ZpZGVycy5waHlzaWNhbC84LjAuMCIsDQogICAgICAiaGFzaFBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMuZmlsZXByb3ZpZGVycy5waHlzaWNhbC44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuRmlsZVN5c3RlbUdsb2JiaW5nLzguMC4wIjogew0KICAgICAgInR5cGUiOiAicGFja2FnZSIsDQogICAgICAic2VydmljZWFibGUiOiB0cnVlLA0KICAgICAgInNoYTUxMiI6ICJzaGE1MTItT0srNjcwaTdlc3FsUXJQamRJS1Jic3lNQ2U5ZzVrU0xwUlJRR1NyNFE1OEFPWUVlL2hDbmZMWnByaDd2aU5pc1NVVVFabU1yYmJ1RGFJclArVjFlYlE9PSIsDQogICAgICAicGF0aCI6ICJtaWNyb3NvZnQuZXh0ZW5zaW9ucy5maWxlc3lzdGVtZ2xvYmJpbmcvOC4wLjAiLA0KICAgICAgImhhc2hQYXRoIjogIm1pY3Jvc29mdC5leHRlbnNpb25zLmZpbGVzeXN0ZW1nbG9iYmluZy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuSG9zdGluZy84LjAuMCI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLUl0WUhwZHFWcDUvb0ZMVDVRcWJvcG5rS2x5Rkc5RVcvOW5oTTYveWZPYmVLdDZTdTB3a0JpbzZBaXpnUkhHTndoSnVBdGxFNVZJam93NUpPVHJpcDZ3PT0iLA0KICAgICAgInBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMuaG9zdGluZy84LjAuMCIsDQogICAgICAiaGFzaFBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMuaG9zdGluZy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuSG9zdGluZy5BYnN0cmFjdGlvbnMvOC4wLjAiOiB7DQogICAgICAidHlwZSI6ICJwYWNrYWdlIiwNCiAgICAgICJzZXJ2aWNlYWJsZSI6IHRydWUsDQogICAgICAic2hhNTEyIjogInNoYTUxMi1BRzdIV3dWUmRDSGxhQSsrMW9LRHhMc1hJQnhtRHBNUGIzVm95T29BZ2hFV25rVXZFQWRZUVV3blY0akpiQWFhL25NWU5pRWg1QnlvTGF1WkJFaW92Zz09IiwNCiAgICAgICJwYXRoIjogIm1pY3Jvc29mdC5leHRlbnNpb25zLmhvc3RpbmcuYWJzdHJhY3Rpb25zLzguMC4wIiwNCiAgICAgICJoYXNoUGF0aCI6ICJtaWNyb3NvZnQuZXh0ZW5zaW9ucy5ob3N0aW5nLmFic3RyYWN0aW9ucy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9jYWxpemF0aW9uLkFic3RyYWN0aW9ucy84LjAuMyI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLWsva1VQbTFGUUJ4Y3M5L3ZzTTFlRjRxSU9nMlNvdnFoLytLVUdIdXI1TWMwWTNPRkd1b3o5a3RCWDdMQTBnUHo1M1NaaFczVzNvYVNhTUZGY2pnTTZRPT0iLA0KICAgICAgInBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMubG9jYWxpemF0aW9uLmFic3RyYWN0aW9ucy84LjAuMyIsDQogICAgICAiaGFzaFBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMubG9jYWxpemF0aW9uLmFic3RyYWN0aW9ucy44LjAuMy5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy84LjAuMCI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLXR2Umtvdjl0QUozeFA1MUxDdjNGSjJ6SU5tdjFQOEhpOGxoaHRjS0dxTStJbWlUQ0M4NHVPUEVJNHo4Q2RxMkMzbzllK0FhMEd3MHJtcnNKRDc3Vyt3PT0iLA0KICAgICAgInBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMubG9nZ2luZy84LjAuMCIsDQogICAgICAiaGFzaFBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMubG9nZ2luZy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5BYnN0cmFjdGlvbnMvOC4wLjAiOiB7DQogICAgICAidHlwZSI6ICJwYWNrYWdlIiwNCiAgICAgICJzZXJ2aWNlYWJsZSI6IHRydWUsDQogICAgICAic2hhNTEyIjogInNoYTUxMi1hckRCcVRnRkN5UzBFdlJWN08zTVp0dXJDaHN0bTUwT0oweTliREp2QWNtRVBKbTBGRnBGeWpVL0pMWXlTdE5HR2V5MDgxRHZuUVlsbmNOWDVTSkpHQT09IiwNCiAgICAgICJwYXRoIjogIm1pY3Jvc29mdC5leHRlbnNpb25zLmxvZ2dpbmcuYWJzdHJhY3Rpb25zLzguMC4wIiwNCiAgICAgICJoYXNoUGF0aCI6ICJtaWNyb3NvZnQuZXh0ZW5zaW9ucy5sb2dnaW5nLmFic3RyYWN0aW9ucy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5Db25maWd1cmF0aW9uLzguMC4wIjogew0KICAgICAgInR5cGUiOiAicGFja2FnZSIsDQogICAgICAic2VydmljZWFibGUiOiB0cnVlLA0KICAgICAgInNoYTUxMiI6ICJzaGE1MTItaXhYWFYwRy8xMmc2TVhLNjVUTG5nWU45VjVoUVFSdVYrZlppODgyV0lvVkpUN2g1SnZvWW94VEV3Q2dkcXdMalNuZXFoMU8rNjZnTThzTXI5ei9yc1E9PSIsDQogICAgICAicGF0aCI6ICJtaWNyb3NvZnQuZXh0ZW5zaW9ucy5sb2dnaW5nLmNvbmZpZ3VyYXRpb24vOC4wLjAiLA0KICAgICAgImhhc2hQYXRoIjogIm1pY3Jvc29mdC5leHRlbnNpb25zLmxvZ2dpbmcuY29uZmlndXJhdGlvbi44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5Db25zb2xlLzguMC4wIjogew0KICAgICAgInR5cGUiOiAicGFja2FnZSIsDQogICAgICAic2VydmljZWFibGUiOiB0cnVlLA0KICAgICAgInNoYTUxMiI6ICJzaGE1MTItZSs0OG83RHp0b1lvZytQWTQzMGxQeHJNNG1tM1BiQTZxdWN2UXRVRER3Vm80TU8rZWpNdzdZR2MvbzJybnhieGo0aXNQeGRmS0Z6VHh2WE13QXo4M0E9PSIsDQogICAgICAicGF0aCI6ICJtaWNyb3NvZnQuZXh0ZW5zaW9ucy5sb2dnaW5nLmNvbnNvbGUvOC4wLjAiLA0KICAgICAgImhhc2hQYXRoIjogIm1pY3Jvc29mdC5leHRlbnNpb25zLmxvZ2dpbmcuY29uc29sZS44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5EZWJ1Zy84LjAuMCI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLWR0MHgyMXFCZHVkSExXL2JqTUpwa2l4djg1OFJScjhlU29tZ1ZiVThxbGpPeWZyZkRHaTFKUXZwRjl3OFM3emlSUHRSS2lzdVdhT3dGeEpNODJHeGVBPT0iLA0KICAgICAgInBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMubG9nZ2luZy5kZWJ1Zy84LjAuMCIsDQogICAgICAiaGFzaFBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMubG9nZ2luZy5kZWJ1Zy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5FdmVudExvZy84LjAuMCI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLTNYOUQzc2w3RW1PdTd2UXA1TUpybUlKQmw1WFNkT2haUFlYVWVGZllhNk5ubTkrdG9rOHgzdDNJVlBMaG03VUp0UE9VNjFvaEZjaHc4ck5tOXRJWU9RPT0iLA0KICAgICAgInBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMubG9nZ2luZy5ldmVudGxvZy84LjAuMCIsDQogICAgICAiaGFzaFBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMubG9nZ2luZy5ldmVudGxvZy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5FdmVudFNvdXJjZS84LjAuMCI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLW9LY1BNcncrbHV6MkRVQUtod0ZYcm1GaWtaV255YzhsMlJLb1F3cVUzS0laWmpjZm9KRTB6UkhBbnFBVGZoUlpodGNiamwvUWtpWTJYanhwMHh1KzZ3PT0iLA0KICAgICAgInBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMubG9nZ2luZy5ldmVudHNvdXJjZS84LjAuMCIsDQogICAgICAiaGFzaFBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMubG9nZ2luZy5ldmVudHNvdXJjZS44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuT3B0aW9ucy84LjAuMCI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLUpPVk9mcXBucWxWTFV6SU5RMmZveDhldlkyU0tMWUozQlY4UURlL0p5cDIxdTFUN3I0NXgvUi81UWR0ZVVSTVI1cjAxR3hlSlNCQlVPQ095YU5YQTNnPT0iLA0KICAgICAgInBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMub3B0aW9ucy84LjAuMCIsDQogICAgICAiaGFzaFBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMub3B0aW9ucy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuT3B0aW9ucy5Db25maWd1cmF0aW9uRXh0ZW5zaW9ucy84LjAuMCI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLTBmNERNUnFFZDUwelFoK1V5SmMrL0hpQnNaM3ZoQVFBTGdka2NRRWFsU0gxTDJpc2RDN1lqNTRNM2N5bzVlK0JlTzVmY0JRN0R4bHk4WGlCQmN2Umd3PT0iLA0KICAgICAgInBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMub3B0aW9ucy5jb25maWd1cmF0aW9uZXh0ZW5zaW9ucy84LjAuMCIsDQogICAgICAiaGFzaFBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMub3B0aW9ucy5jb25maWd1cmF0aW9uZXh0ZW5zaW9ucy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiTWljcm9zb2Z0LkV4dGVuc2lvbnMuUHJpbWl0aXZlcy84LjAuMCI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLWJYSkVaclc5bnk4dmpNRjFKVjI1M1dlTGhwRVZ6Rm8xbHlhWnUxdlE0WnhXVWxWdmtuWi8rZnRGZ1ZoZUx1YmI0ZVpQU3d3eEJlcVMxSmtDT2p4ZDhnPT0iLA0KICAgICAgInBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMucHJpbWl0aXZlcy84LjAuMCIsDQogICAgICAiaGFzaFBhdGgiOiAibWljcm9zb2Z0LmV4dGVuc2lvbnMucHJpbWl0aXZlcy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiU2NydXRvci80LjIuMiI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLXQ1VklZQTdXSlhvSkpvN3M0RG9IYWtNR3dUdStNZUVuWnVtTU9oVENIN2t6OXhXaGEyNEc3ZEpOeFdySFBsdTBaZFpBUzRqRFpDeHhBbnlhQmg3dVl3PT0iLA0KICAgICAgInBhdGgiOiAic2NydXRvci80LjIuMiIsDQogICAgICAiaGFzaFBhdGgiOiAic2NydXRvci40LjIuMi5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiU2VyaWxvZy8zLjEuMSI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLVA2RzQvNEt0OWJUNjM1Ymh1d2RYbEoyU0NxcW4ybmhoNGdxRnFRdWVDT3I5YksvZTdXOWxsL0lvWDFUZXI5NDhjVjJaLzUrNXY4cEFmSllVSVNZMDNBPT0iLA0KICAgICAgInBhdGgiOiAic2VyaWxvZy8zLjEuMSIsDQogICAgICAiaGFzaFBhdGgiOiAic2VyaWxvZy4zLjEuMS5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiU2VyaWxvZy5FeHRlbnNpb25zLkxvZ2dpbmcvOC4wLjAiOiB7DQogICAgICAidHlwZSI6ICJwYWNrYWdlIiwNCiAgICAgICJzZXJ2aWNlYWJsZSI6IHRydWUsDQogICAgICAic2hhNTEyIjogInNoYTUxMi1ZRUFNV3UxVW5XZ2YxYzFLUDg1bDFTZ1hHZmlWbzBSejZ4MDhwQ2lQT0lCdDJRZTE4dGNaTHZkQlV1VjVvMVFIdnJzOEZBcnk5d1RJaGdCUnRqSWxFZz09IiwNCiAgICAgICJwYXRoIjogInNlcmlsb2cuZXh0ZW5zaW9ucy5sb2dnaW5nLzguMC4wIiwNCiAgICAgICJoYXNoUGF0aCI6ICJzZXJpbG9nLmV4dGVuc2lvbnMubG9nZ2luZy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiU2VyaWxvZy5TaW5rcy5Db25zb2xlLzUuMC4wIjogew0KICAgICAgInR5cGUiOiAicGFja2FnZSIsDQogICAgICAic2VydmljZWFibGUiOiB0cnVlLA0KICAgICAgInNoYTUxMiI6ICJzaGE1MTItSVo2Ym43OWsrM1NSWE9CcHdTT0NsVUhpa1NrcDJ0b0dQQ1owdGVVa3NjdjRkcERnOUUyUjJ4VnNOa0xtd2RkRTRPcE5WTzNOMHhpWXNBSDU1NnZOOFE9PSIsDQogICAgICAicGF0aCI6ICJzZXJpbG9nLnNpbmtzLmNvbnNvbGUvNS4wLjAiLA0KICAgICAgImhhc2hQYXRoIjogInNlcmlsb2cuc2lua3MuY29uc29sZS41LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiU2VyaWxvZy5TaW5rcy5GaWxlLzUuMC4wIjogew0KICAgICAgInR5cGUiOiAicGFja2FnZSIsDQogICAgICAic2VydmljZWFibGUiOiB0cnVlLA0KICAgICAgInNoYTUxMiI6ICJzaGE1MTItdXdWNWhkaFdQd1VIMXN6aE84UEpwRmlhaHFYbXpQekpUL3NPaWpIL2tGZ1V4K2N5b0RUTU04TUhEMGFkdzkrSWVtNml0b2liYlVYSFlzbHpYc0xFQWc9PSIsDQogICAgICAicGF0aCI6ICJzZXJpbG9nLnNpbmtzLmZpbGUvNS4wLjAiLA0KICAgICAgImhhc2hQYXRoIjogInNlcmlsb2cuc2lua3MuZmlsZS41LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiU3lzdGVtLkRpYWdub3N0aWNzLkV2ZW50TG9nLzguMC4wIjogew0KICAgICAgInR5cGUiOiAicGFja2FnZSIsDQogICAgICAic2VydmljZWFibGUiOiB0cnVlLA0KICAgICAgInNoYTUxMiI6ICJzaGE1MTItZmRZeGNSalFxVFRhY0tJZC8ySUVDb2psRFNGdnA3TFA1Tjc4KzB6L3hIN3YvVHV3NVpBeHUyM1k2UFRDUmlucXl1MmVQeCtHbjEwOThOQzZqTTZkK0E9PSIsDQogICAgICAicGF0aCI6ICJzeXN0ZW0uZGlhZ25vc3RpY3MuZXZlbnRsb2cvOC4wLjAiLA0KICAgICAgImhhc2hQYXRoIjogInN5c3RlbS5kaWFnbm9zdGljcy5ldmVudGxvZy44LjAuMC5udXBrZy5zaGE1MTIiDQogICAgfSwNCiAgICAiVG9tbHluLzAuMTkuMCI6IHsNCiAgICAgICJ0eXBlIjogInBhY2thZ2UiLA0KICAgICAgInNlcnZpY2VhYmxlIjogdHJ1ZSwNCiAgICAgICJzaGE1MTIiOiAic2hhNTEyLUdsSTJvOFI4amJaSWFFK1lYNnVBL1ZvQU9IN3pJeFllcXhEbTdqSFcyaHFVaHVCK3ExOW9Lb2xkMzVGa011djhJWkRvQ3FzVE1vbGFCdjJlQkxCbXJRPT0iLA0KICAgICAgInBhdGgiOiAidG9tbHluLzAuMTkuMCIsDQogICAgICAiaGFzaFBhdGgiOiAidG9tbHluLjAuMTkuMC5udXBrZy5zaGE1MTIiDQogICAgfQ0KICB9DQp9";

const KNIFE_DLL_BASE64 = "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ZEF0dHJpYnV0ZQBEZWJ1Z2dhYmxlQXR0cmlidXRlAE51bGxhYmxlQXR0cmlidXRlAEFzc2VtYmx5VGl0bGVBdHRyaWJ1dGUAVGFyZ2V0RnJhbWV3b3JrQXR0cmlidXRlAEFzc2VtYmx5RmlsZVZlcnNpb25BdHRyaWJ1dGUAQXNzZW1ibHlJbmZvcm1hdGlvbmFsVmVyc2lvbkF0dHJpYnV0ZQBBc3NlbWJseUNvbmZpZ3VyYXRpb25BdHRyaWJ1dGUAQ29tbWFuZEhlbHBlckF0dHJpYnV0ZQBSZWZTYWZldHlSdWxlc0F0dHJpYnV0ZQBDb21waWxhdGlvblJlbGF4YXRpb25zQXR0cmlidXRlAEFzc2VtYmx5UHJvZHVjdEF0dHJpYnV0ZQBOdWxsYWJsZUNvbnRleHRBdHRyaWJ1dGUAQXNzZW1ibHlDb21wYW55QXR0cmlidXRlAFJ1bnRpbWVDb21wYXRpYmlsaXR5QXR0cmlidXRlAEdvTGl2ZQBTeXN0ZW0uUnVudGltZS5WZXJzaW9uaW5nAFN0cmluZwBTdWJzdHJpbmcAR2V0QXJnAGdldF9MZW5ndGgAU3RhcnRzV2l0aABDb21tYW5kTGlzdGVuZXJDYWxsYmFjawBQcmludFRvQ2hhdEFsbABLbmlmZS5kbGwAZ2V0X1RlYW0AV2lubmVyVGVhbQBDc1RlYW0AR2l2ZU5hbWVkSXRlbQBTeXN0ZW0AVHJpbQBFbnVtAEJhc2VQbHVnaW4AQ291bnRlclN0cmlrZVNoYXJwLkFQSS5Nb2R1bGVzLkFkbWluAGdldF9Nb2R1bGVWZXJzaW9uAENvdW50ZXJTdHJpa2VTaGFycC5BUEkuQ29yZS5BdHRyaWJ1dGVzLlJlZ2lzdHJhdGlvbgBIYW5kbGVTaWRlU2VsZWN0aW9uAFN5c3RlbS5SZWZsZWN0aW9uAGdldF9QYXduAENCYXNlUGxheWVyUGF3bgBPblBsYXllclNwYXduAEV2ZW50UGxheWVyU3Bhd24AQ29tbWFuZEluZm8AR2FtZUV2ZW50SW5mbwBpbmZvAEtuaWZlTWFuYWdlcgBBZG1pbk1hbmFnZXIAUmVnaXN0ZXJFdmVudEhhbmRsZXIAQ0NTUGxheWVyQ29udHJvbGxlcgBDQmFzZVBsYXllckNvbnRyb2xsZXIAQWRkQ29tbWFuZExpc3RlbmVyAGdldF9XaW5uZXIAU2VydmVyAFRvTG93ZXIAcGxheWVyAGdldF9Nb2R1bGVBdXRob3IALmN0b3IAU3lzdGVtLkRpYWdub3N0aWNzAENvdW50ZXJTdHJpa2VTaGFycC5BUEkuTW9kdWxlcy5Db21tYW5kcwBTeXN0ZW0uUnVudGltZS5Db21waWxlclNlcnZpY2VzAERlYnVnZ2luZ01vZGVzAENvdW50ZXJTdHJpa2VTaGFycC5BUEkuTW9kdWxlcy5VdGlscwBQbGF5ZXJIYXNQZXJtaXNzaW9ucwBDb25jYXQAUHJpbnRUb0NoYXQAT25QbGF5ZXJDaGF0AE9iamVjdABIb29rUmVzdWx0AGV2ZW50AGdldF9Jc0JvdABPblJvdW5kU3RhcnQARXZlbnRSb3VuZFN0YXJ0AG9wX0VxdWFsaXR5AG9wX0luZXF1YWxpdHkAAAAAAClTAGkAbQBwAGwAZQAgAEsAbgBpAGYAZQAgAE0AYQBuAGEAZwBlAHIAAAsxAC4AMAAuADEAACNTAGkAeABTAGUAdgBlAG4AIAAmACAARwBlAG0AaQBuAGkAAAdzAGEAeQAAEXMAYQB5AF8AdABlAGEAbQAAGUAAYwBzAHMALwBnAGUAbgBlAHIAaQBjAAA1pwA0AFsASwBuAGkAZgBlAF0AIACnADEAUwBlAG0AIABwAGUAcgBtAGkAcwBzAOMAbwAuAAFHpwA0AFsASwBuAGkAZgBlAF0AIACnADEAQQAgAFAAUgBFAFAAQQBSAEEAUgAgAEsATgBJAEYARQAgAFIATwBVAE4ARAAhAAEbbQBwAF8AdwBhAHIAbQB1AHAAXwBlAG4AZAAANW0AcABfAGMAdABfAGQAZQBmAGEAdQBsAHQAXwBzAGUAYwBvAG4AZABhAHIAeQAgACIAIgAAM20AcABfAHQAXwBkAGUAZgBhAHUAbAB0AF8AcwBlAGMAbwBuAGQAYQByAHkAIAAiACIAADFtAHAAXwBjAHQAXwBkAGUAZgBhAHUAbAB0AF8AcAByAGkAbQBhAHIAeQAgACIAIgAAL20AcABfAHQAXwBkAGUAZgBhAHUAbAB0AF8AcAByAGkAbQBhAHIAeQAgACIAIgAAH20AcABfAGYAcgBlAGUAXwBhAHIAbQBvAHIAIAAxAAAnbQBwAF8A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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAwAAACoPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=";

const KNIFE_PDB_BASE64 = "QlNKQgEAAQAAAAAADAAAAFBEQiB2MS4wAAAAAAAABgB8AAAAZAAAACNQZGIAAAAA4AAAAOQBAAAjfgAAxAIAACAAAAAjU3RyaW5ncwAAAADkAgAABAAAACNVUwDoAgAAYAAAACNHVUlEAAAASAMAADg2AAAjQmxvYgAAAHXEfed4uQlBhNrwUove+tJLIDOGAAAAAFcdogkJCAAAAQAAACYAAAAEAAAABwAAAA4AAAAMAAAALQAAAAQAAAARAAAABgAAAAEAAAADAAAAAwAAAAQAAAABAAAAAgAAAAMAAAAAAAAAAgAAAQAAAAAAAK8AAAAAAAAAhAAFAAAADgAAAA8AAAAEAAAAAwAAAAoAAAAuAAEANgACAGgAAQBwAAIAugABAMkAAgAZAQEAKAECAF8BAQBuAQIAAgBhMQIAAjMCAAkzAgAQMwIANTMCAHUzAgDHMwIAETQCAFk0AgDJNAIASzUCANc1AgAqNgAAAAABAAMAAQABAAAAAAAGAAAAAgADAAEAAQAAAAAABgAAAAMAAwABAAEAAAAAAAYAAAAEAAMAAQABAAAAAABwAAAABQADAAEAAQAAAAAAQAAAAAYAAwABAAEAAAAAAJQAAAAHAAMAAQABAAAAAAA9AAAACAADAAEAAQAAAAAAVgAAAAgAAwABAAEADgAAAEIAAAAJAAMAAgABAAAAAACSAAAACQADAAIAAQA1AAAAQAAAAAoAAwADAAEAAAAAACMBAAALAAMABAABAAAAAABgAAAADAADAAUAAQAAAAAAmAAAAA0AAwAFAAEAAAAAABYAAAAAAAEAFwAAAAIAAQAAAAAACgAAAAAADgAAAAAAAQDXMgIAAAAnAAQAkwEnAAUA3gNDAAMAjwGDAAMAkQGgAAYAbzPgAAYACTQAAQYAUDQgAQYAvjRAAQYANzVgAQYAyTUAAAAAAHRlYW1OYW1lAG1zZwBuZWVkU3dhcABwbGF5ZXIAAAAAAAAAD9ApiLgRE0KHi3cOhZesFvhiUT/GB9MRkFMAwE+jAqG8dC6Tqdt4RI1GDzKnurPTBez+tdCMg0qW2kZihLtL2AhHTX5uCVxMrtrLELpqdA2oUl91xZG+RbS4IJVx5VK9AAJDOgVVc2VycwtNYXJjbyBTaWx2YQdEZXNrdG9wBUtuaWZlCUNsYXNzMS5jcwdcAQQKFh4kIKoBpXusCP4X6VhJtoZGPs3A9UbRGcuIUCdXflfunhyLEE1LbmlmZU1hbmFnZXIuY3MHXAEEChYeVyCGDOmeG2b6XyP2/r0OWeO8P/QHspV1TFDAFqf40o0/9ANvYmoFRGVidWcGbmV0OC4wF0tuaWZlLkdsb2JhbFVzaW5ncy5nLmNzDlwBBAoWHoCRgJWAm4CiIKPGBIu02SKxeZqZd/hDYqN4e2iBDKxnqoasOqIylfInLi5ORVRDb3JlQXBwLFZlcnNpb249djguMC5Bc3NlbWJseUF0dHJpYnV0ZXMuY3MOXAEEChYegJGAlYCbgOog96XZeJyGNiXhOf+Z4RE6UDgw9rhaiPYSmRbfg6x2tJ4VS25pZmUuQXNzZW1ibHlJbmZvLmNzDlwBBAoWHoCRgJWAm4FJIDeya0eb5iRmHb6rr+tfa3FLXVkQ+hswItpcBRii/G0oAQIBAYJJdmVyc2lvbgAyAGNvbXBpbGVyLXZlcnNpb24ANS4wLjAtMi4yNTU2OS4xMDUrZmFkMjUzZjUxYjQ2MTczNmRmZDNjZDljMTU5NzdiYjc0OTNiZWNlZgBsYW5ndWFnZQBDIwBzb3VyY2UtZmlsZS1jb3VudAA1AG91dHB1dC1raW5kAER5bmFtaWNhbGx5TGlua2VkTGlicmFyeQBvcHRpbWl6YXRpb24AZGVidWctcGx1cwBwbGF0Zm9ybQBBbnlDcHUAcnVudGltZS12ZXJzaW9uADEwLjAuMStmYWQyNTNmNTFiNDYxNzM2ZGZkM2NkOWMxNTk3N2JiNzQ5M2JlY2VmAGxhbmd1YWdlLXZlcnNpb24AMTIuMABudWxsYWJsZQBFbmFibGUAZGVmaW5lAFRSQUNFLERFQlVHLE5FVCxORVQ4XzAsTkVUQ09SRUFQUCxORVQ1XzBfT1JfR1JFQVRFUixORVQ2XzBfT1JfR1JFQVRFUixORVQ3XzBfT1JfR1JFQVRFUixORVQ4XzBfT1JfR1JFQVRFUixORVRDT1JFQVBQMV8wX09SX0dSRUFURVIsTkVUQ09SRUFQUDFfMV9PUl9HUkVBVEVSLE5FVENPUkVBUFAyXzBfT1JfR1JFQVRFUixORVRDT1JFQVBQMl8xX09SX0dSRUFURVIsTkVUQ09SRUFQUDJfMl9PUl9HUkVBVEVSLE5FVENPUkVBUFAzXzBfT1JfR1JFQVRFUixORVRDT1JFQVBQM18xX09SX0dSRUFURVIArYFDb3VudGVyU3RyaWtlU2hhcnAuQVBJLmRsbAAAAeGsdsgA4BoA5mLgmIoCz0+SpED800DQKE1jTWFzdGVyLk5FVENvcmUuUGx1Z2lucy5kbGwAAAHnHVTQAOAAAL4E59MPGzNLj86KaWSuMylNaWNyb3NvZnQuQ1NoYXJwLmRsbAAAAXmQUo0AgAAA3GBrdykdMU6ma8JlBa9oTU1pY3Jvc29mdC5Eb3ROZXQuUGxhdGZvcm1BYnN0cmFjdGlvbnMuZGxsAAABfFrfzwCgAADjKKOGLVQARrBH6veF7+LnTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5BYnN0cmFjdGlvbnMuZGxsAAAB63lhqACgAABTmp9kCBUDTYtk4p6hGx+1TWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5CaW5kZXIuZGxsAAAB3B483wDgAAAEx1TiMBGtQrVKgs8SRJhCTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5Db21tYW5kTGluZS5kbGwAAAEJDivbAKAAAB55nMd0VvxKv4J6jRglDtZNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Db25maWd1cmF0aW9uLmRsbAAAAQNDso0A4AAAd/bb+HwDY0O97Ac2QpU4X01pY3Jvc29mdC5FeHRlbnNpb25zLkNvbmZpZ3VyYXRpb24uRW52aXJvbm1lbnRWYXJpYWJsZXMuZGxsAAABRm71sgCAAACSfp618H6FQIcQ4gHwNI+8TWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5GaWxlRXh0ZW5zaW9ucy5kbGwAAAGrwv/TAKAAAJDqEQOL7hFFpBUR+R+W1QFNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Db25maWd1cmF0aW9uLkpzb24uZGxsAAABtRpgvACgAADlsl4OgzzMR4FFurt+5ihTTWljcm9zb2Z0LkV4dGVuc2lvbnMuQ29uZmlndXJhdGlvbi5Vc2VyU2VjcmV0cy5kbGwAAAF678GxAKAAAB+O0pj6kUdNk5NKSkwfF49NaWNyb3NvZnQuRXh0ZW5zaW9ucy5EZXBlbmRlbmN5SW5qZWN0aW9uLkFic3RyYWN0aW9ucy5kbGwAAAHfsf/SAEABABmtTSpKxhpPmUcy6vLeNI5NaWNyb3NvZnQuRXh0ZW5zaW9ucy5EZXBlbmRlbmN5SW5qZWN0aW9uLmRsbAAAAWpie/sAoAEAik+//LVadUOrz6Ruj1iWtU1pY3Jvc29mdC5FeHRlbnNpb25zLkRlcGVuZGVuY3lNb2RlbC5kbGwAAAGS9MLxAGABABYUHsIhQtNJvWfBaz3sJ0pNaWNyb3NvZnQuRXh0ZW5zaW9ucy5EaWFnbm9zdGljcy5BYnN0cmFjdGlvbnMuZGxsAAABAvft4wCgAABtlKKHNdf0R5mNiyx8h+vwTWljcm9zb2Z0LkV4dGVuc2lvbnMuRGlhZ25vc3RpY3MuZGxsAAABsDMS/QDAAADy7wFdigcST56kj9nUIhjQTWljcm9zb2Z0LkV4dGVuc2lvbnMuRmlsZVByb3ZpZGVycy5BYnN0cmFjdGlvbnMuZGxsAAAB31Bt/gCgAACmkBV44shrTp+F11oawwyBTWljcm9zb2Z0LkV4dGVuc2lvbnMuRmlsZVByb3ZpZGVycy5QaHlzaWNhbC5kbGwAAAFAZrfbAOAAAL9mDtofVyxCv9ZRsbsadwRNaWNyb3NvZnQuRXh0ZW5zaW9ucy5GaWxlU3lzdGVtR2xvYmJpbmcuZGxsAAABjW8k+ADgAAD/dj4yVrasTaJFosg47u1xTWljcm9zb2Z0LkV4dGVuc2lvbnMuSG9zdGluZy5BYnN0cmFjdGlvbnMuZGxsAAABDho6uAAAAQD1qQV8zmzrQalFHMSloJnMTWljcm9zb2Z0LkV4dGVuc2lvbnMuSG9zdGluZy5kbGwAAAEkE3PnAGABAH02BnTDJF5EuBTuVuZREY9NaWNyb3NvZnQuRXh0ZW5zaW9ucy5Mb2NhbGl6YXRpb24uQWJzdHJhY3Rpb25zLmRsbAAAAf7uc7QAgAAADkqiCyC2HEqWlBKuLASVkU1pY3Jvc29mdC5FeHRlbnNpb25zLkxvZ2dpbmcuQWJzdHJhY3Rpb25zLmRsbAAAAX4QDfoAQAEAm+It/AuSdUSVDArfCPGNmU1pY3Jvc29mdC5FeHRlbnNpb25zLkxvZ2dpbmcuQ29uZmlndXJhdGlvbi5kbGwAAAERmI/UAKAAAFvDMOuzXuVHuKpxDERkGWBNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Mb2dnaW5nLkNvbnNvbGUuZGxsAAABhjHhlABgAQCuM07T5kU0S7QeZc++YlVJTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5EZWJ1Zy5kbGwAAAGP4VXiAIAAAEbvnv+pGuNPhaoUwqFH6XJNaWNyb3NvZnQuRXh0ZW5zaW9ucy5Mb2dnaW5nLmRsbAAAAXSsMMIAAAEAyR3LCWWXdk+Da5XFwCIRy01pY3Jvc29mdC5FeHRlbnNpb25zLkxvZ2dpbmcuRXZlbnRMb2cuZGxsAAAB0ks40ACgAACCQSqp8/LwS5q5ypKcmzmTTWljcm9zb2Z0LkV4dGVuc2lvbnMuTG9nZ2luZy5FdmVudFNvdXJjZS5kbGwAAAHV4jHtAMAAALm57flsnUpMpeXm0RaaB01NaWNyb3NvZnQuRXh0ZW5zaW9ucy5PcHRpb25zLkNvbmZpZ3VyYXRpb25FeHRlbnNpb25zLmRsbAAAAUov4ZIAoAAAN0uW+fD9jk6QGoL4gJ/IhE1pY3Jvc29mdC5FeHRlbnNpb25zLk9wdGlvbnMuZGxsAAAB4MR11ABAAQDYOGFnLF+TTI8ubl3n6fUqTWljcm9zb2Z0LkV4dGVuc2lvbnMuUHJpbWl0aXZlcy5kbGwAAAE39733AOAAAAdgQIXzXJJLqudNXZQQOOpNaWNyb3NvZnQuVmlzdWFsQmFzaWMuQ29yZS5kbGwAAAEjVnSVACABAJpOTNWwXLZBid7lx8poftNNaWNyb3NvZnQuVmlzdWFsQmFzaWMuZGxsAAABCiXzlwCAAADSdhuuzz/pSYd8UZPq6QywTWljcm9zb2Z0LldpbjMyLlByaW1pdGl2ZXMuZGxsAAAB6q+mjwCAAADNg5oVhqT+SY+6g+IXjFuFTWljcm9zb2Z0LldpbjMyLlJlZ2lzdHJ5LmRsbAAAAdCdBPMAoAAAilHVQKDsNE2myZUNLgsz5W1zY29ybGliLmRsbAAAAbHN8NIAIAEA3Bg5ERdI9EmyptZvQYSP5W5ldHN0YW5kYXJkLmRsbAAAAaCY7+sAwAEARg8TY9++3kW4+LsvP02A/lNjcnV0b3IuZGxsAAAB5g9J5wBAAQBlvMZm9Eg/QJ2FgHzAVYsyU2VyaWxvZy5kbGwAAAEm3NO8AIACADoTfY7BS3FOg0AFoCPgOQJTZXJpbG9nLkV4dGVuc2lvbnMuTG9nZ2luZy5kbGwAAAF+Hp+KAOAAAJP0DcYzVdZIj+w6AaMUh35TZXJpbG9nLlNpbmtzLkNvbnNvbGUuZGxsAAABiBBrqgAAAQDxAY6u1fGuQqx5prP6UaIwU2VyaWxvZy5TaW5rcy5GaWxlLmRsbAAAAemQeuYA4AAAQsqyalRCcEaHCqpYkNf2NVN5c3RlbS5BcHBDb250ZXh0LmRsbAAAAde9QP8AgAAA6IhmpgnXPU6YbYl5Te4+n1N5c3RlbS5CdWZmZXJzLmRsbAAAASIQ1NUAgAAAMl1v8MnEK0+adP39g0nv6VN5c3RlbS5Db2xsZWN0aW9ucy5Db25jdXJyZW50LmRsbAAAAWWlysAAoAAAvo4rRmIa5Uu6H+gXt0k1IlN5c3RlbS5Db2xsZWN0aW9ucy5kbGwAAAGEaA66AAABALje8v9ZhJRHgfDI2DTfkfVTeXN0ZW0uQ29sbGVjdGlvbnMuSW1tdXRhYmxlLmRsbAAAAWnVwuAAYAEAibR+Y7X6oU2MiRGRU/AUslN5c3RlbS5Db2xsZWN0aW9ucy5Ob25HZW5lcmljLmRsbAAAAeC+P7cAoAAAy/NwQgQHJkK3iJ/1kXoWVVN5c3RlbS5Db2xsZWN0aW9ucy5TcGVjaWFsaXplZC5kbGwAAAHHD8e7AKAAAHkIsTp76HFGkLe5fMvYcUFTeXN0ZW0uQ29tcG9uZW50TW9kZWwuQW5ub3RhdGlvbnMuZGxsAAABla3GngDAAAC28MXCLFYuTaHA4oCbcPnqU3lzdGVtLkNvbXBvbmVudE1vZGVsLkRhdGFBbm5vdGF0aW9ucy5kbGwAAAGFKMOrAIAAAFMXt90xymhOgUOXpDgDVGRTeXN0ZW0uQ29tcG9uZW50TW9kZWwuZGxsAAABGTnA5wCAAABy112dS2+ISZgxG+3CDEucU3lzdGVtLkNvbXBvbmVudE1vZGVsLkV2ZW50QmFzZWRBc3luYy5kbGwAAAEYNdehAIAAAFyLyaPuFvFFuLNqoFT7QiRTeXN0ZW0uQ29tcG9uZW50TW9kZWwuUHJpbWl0aXZlcy5kbGwAAAHPWF/cAKAAAGCBIOiqrn5EvuHM2+6ZXhZTeXN0ZW0uQ29tcG9uZW50TW9kZWwuVHlwZUNvbnZlcnRlci5kbGwAAAFZV9LvAOABADlLiVDdvcNPjEKPDbyOsqdTeXN0ZW0uQ29uZmlndXJhdGlvbi5kbGwAAAEwityqAIAAAN/wGMDR6udNqzUn7fP+Hj9TeXN0ZW0uQ29uc29sZS5kbGwAAAEsrnzJAKAAABfwlEPWcx5Frju50i/bww9TeXN0ZW0uQ29yZS5kbGwAAAFWvxaGAKAAAFSf2tjEvFNPq0rSd9CPk0RTeXN0ZW0uRGF0YS5Db21tb24uZGxsAAABn8qn6QCgAgCznCfX6JmiT4pY0EwXWVX9U3lzdGVtLkRhdGEuRGF0YVNldEV4dGVuc2lvbnMuZGxsAAAB3pGQogCAAAAWHDnNa7zBTZr31fPWxs/7U3lzdGVtLkRhdGEuZGxsAAABUVgTswCgAAAHn3H4zeU8QKoPf6s87C5zU3lzdGVtLkRpYWdub3N0aWNzLkNvbnRyYWN0cy5kbGwAAAHW4WCCAIAAAEkudA6fhmJIspAOTiVgrK1TeXN0ZW0uRGlhZ25vc3RpY3MuRGVidWcuZGxsAAABc7ydmwCAAABbEUfNWA43TZ9HuOZ6VXYLU3lzdGVtLkRpYWdub3N0aWNzLkRpYWdub3N0aWNTb3VyY2UuZGxsAAABncLRwQDgAABLJl/euD2NRbE9cy4piuFZU3lzdGVtLkRpYWdub3N0aWNzLkV2ZW50TG9nLmRsbAAAAeX6JLQAAAEA9xpjkeSl2kOtIr6p6W5BnFN5c3RlbS5EaWFnbm9zdGljcy5GaWxlVmVyc2lvbkluZm8uZGxsAAABSa6hgwCAAABdgFt9azb9T68gLmclW6njU3lzdGVtLkRpYWdub3N0aWNzLlByb2Nlc3MuZGxsAAABEILD9gDAAADopeyjVATYQqyzGK7TuOKjU3lzdGVtLkRpYWdub3N0aWNzLlN0YWNrVHJhY2UuZGxsAAABsyDGzQCgAAAgZiTA2/FrQYeGifjJDnTiU3lzdGVtLkRpYWdub3N0aWNzLlRleHRXcml0ZXJUcmFjZUxpc3RlbmVyLmRsbAAAAfNwrfkAgAAAwZpChkRKa0W3U16PaHuPC1N5c3RlbS5EaWFnbm9zdGljcy5Ub29scy5kbGwAAAGBLKe2AIAAAFTQhQ7cso1Jg+hOVmHnI7xTeXN0ZW0uRGlhZ25vc3RpY3MuVHJhY2VTb3VyY2UuZGxs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4AAAORC135Mpv064ga1cZhWFj1N5c3RlbS5PYmplY3RNb2RlbC5kbGwAAAGgVZbsAKAAAKwX80ue8FBMkCxiAmWPMYxTeXN0ZW0uUmVmbGVjdGlvbi5EaXNwYXRjaFByb3h5LmRsbAAAAT/npM4AgAAA457dKsdPeEqe4W5SYEWiuFN5c3RlbS5SZWZsZWN0aW9uLmRsbAAAAZ3n8N8AgAAAqaEeqOzHLE+V3m2miTv4m1N5c3RlbS5SZWZsZWN0aW9uLkVtaXQuZGxsAAABr13bgwDgAAA4l/a05OyyTb7LRfeb9o0pU3lzdGVtLlJlZmxlY3Rpb24uRW1pdC5JTEdlbmVyYXRpb24uZGxsAAABsjAr3gCAAABva7EL0wkcSJBfNxSDFIVqU3lzdGVtLlJlZmxlY3Rpb24uRW1pdC5MaWdodHdlaWdodC5kbGwAAAGx3feYAIAAAEHEqPPvioZGtmLkMhYOTLVTeXN0ZW0uUmVmbGVjdGlvbi5FeHRlbnNpb25zLmRsbAAAAQIyqIoAgAAAqQOG/NfGqEqQbvdSRtsa81N5c3RlbS5SZWZsZWN0aW9uLk1ldGFkYXRhLmRsbAAAAUSvY98AIAIAYV3KysgjR0eUVVxBAFmEK1N5c3RlbS5SZWZsZWN0aW9uLlByaW1pdGl2ZXMuZGxsAAABfs7p3gCgAABMZ0KENTMuSoamWTepGEdeU3lzdGVtLlJlZmxlY3Rpb24uVHlwZUV4dGVuc2lvbnMuZGxsAAABtdebrQCAAAB4UPsiu6+nRLGzgIS1RprVU3lzdGVtLlJlc291cmNlcy5SZWFkZXIuZGxsAAABDetUkACAAAD1LszeUvyfQJ+33Y9Tx/ngU3lzdGVtLlJlc291cmNlcy5SZXNvdXJjZU1hbmFnZXIuZGxsAAAB+9KR9QCAAAAVJL4iKaRGQ68ynSknSlGoU3lzdGVtLlJlc291cmNlcy5Xcml0ZXIuZGxsAAABM86AoQCAAAAc5TW0l4dSTK5LdH5kZU7+U3lzdGVtLlJ1bnRpbWUuQ29tcGlsZXJTZXJ2aWNlcy5VbnNhZmUuZGxsAAAB5xus9wCAAABdUMjbY8JHQI3koVxn8MwVU3lzdGVtLlJ1bnRpbWUuQ29tcGlsZXJTZXJ2aWNlcy5WaXN1YWxDLmRsbAAAAQDodN8AgAAAwfhEggoSrkux8XAX1VSxSVN5c3RlbS5SdW50aW1lLmRsbAAAAa5a+ZgA4AwAuqnllNcEAkCHD77uxx/3jFN5c3RlbS5SdW50aW1lLkV4dGVuc2lvbnMuZGxsAAAB1wUz/ACAAADTt9JiPBO3RoHikFQMFP/kU3lzdGVtLlJ1bnRpbWUuSGFuZGxlcy5kbGwAAAHYQGSmAIAAAB9aPTGBmSlMibsGk3x06fVTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuZGxsAAABBjSvoQDAAQBpDv1UR6nXSL97KvRbhCjbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkphdmFTY3JpcHQuZGxsAAABeOh8tACgAABtT9eC+ml7QJT1eF7rq83hU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLlJ1bnRpbWVJbmZvcm1hdGlvbi5kbGwAAAEipC+BAIAAABnAUBBFqsZPlySmCp4vdipTeXN0ZW0uUnVudGltZS5JbnRyaW5zaWNzLmRsbAAAAerNBqsAgAQAyE5PyjknjkGqRf1WhQr+KVN5c3RlbS5SdW50aW1lLkxvYWRlci5kbGwAAAHtYLLnAIAAAOae9WhPPqlKpZhPVHEw1QtTeXN0ZW0uUnVudGltZS5OdW1lcmljcy5kbGwAAAHYj9jnAMAAAAnAJVKswF1Er5qWEqbWkwxTeXN0ZW0uUnVudGltZS5TZXJpYWxpemF0aW9uLmRsbAAAAWSmXPIAgAAA+CwtIqKdnUOTRLBVAsh4TFN5c3RlbS5SdW50aW1lLlNlcmlhbGl6YXRpb24uRm9ybWF0dGVycy5kbGwAAAHRuduMAKAAADqapS0zYvhIjfI4mYg84uZTeXN0ZW0uUnVudGltZS5TZXJpYWxpemF0aW9uLkpzb24uZGxsAAABD8bz3gCAAACjgKvGkdAJTJ3EHJVmYHVIU3lzdGVtLlJ1bnRpbWUuU2VyaWFsaXphdGlvbi5QcmltaXRpdmVzLmRsbAAAARU+54kAgAAABQrPfvCCTkmxlpgVTj8o+VN5c3RlbS5SdW50aW1lLlNlcmlhbGl6YXRpb24uWG1sLmRsbAAAAaoTD9EA4AAAa26/Ezfp7kePAuGvNBfxeFN5c3RlbS5TZWN1cml0eS5BY2Nlc3NDb250cm9sLmRsbAAAAYYAnIYAwAAAkzLgatJTek2rXFbl3sKeGFN5c3RlbS5TZWN1cml0eS5DbGFpbXMuZGxsAAABwaeTrwDAAAA7rprZ7+CnSJMFNFEZvrezU3lzdGVtLlNlY3VyaXR5LkNyeXB0b2dyYXBoeS5BbGdvcml0aG1zLmRsbAAAAU/qkK0AgAAA0sgzrbzv/k+b68Xbh+7culN5c3RlbS5TZWN1cml0eS5DcnlwdG9ncmFwaHkuQ25nLmRsbAAAAVaMzMMAgAAA41ZoLUj9SkWb1eQshz8GEFN5c3RlbS5TZWN1cml0eS5DcnlwdG9ncmFwaHkuQ3NwLmRsbAAAASwsctMAgAAASmoPwf9QzEmetT2KO7Z5flN5c3RlbS5TZWN1cml0eS5DcnlwdG9ncmFwaHkuZGxsAAABB2ghsABAAgAR9sTjJX/mS7Apyar391kyU3lzdGVtLlNlY3VyaXR5LkNyeXB0b2dyYXBoeS5FbmNvZGluZy5kbGwAAAF+Gd6nAIAAAC/dicAyxvdAvgJWHKAQkYBTeXN0ZW0uU2VjdXJpdHkuQ3J5cHRvZ3JhcGh5Lk9wZW5Tc2wuZGxsAAABj5LnvQCAAAB96IdIYek/SLYN3UvPIGnXU3lzdGVtLlNlY3VyaXR5LkNyeXB0b2dyYXBoeS5QcmltaXRpdmVzLmRsbAAAAU/i2o0AgAAAhT2wbFFNaU+1DBrB3Dm4c1N5c3RlbS5TZWN1cml0eS5DcnlwdG9ncmFwaHkuWDUwOUNlcnRpZmljYXRlcy5kbGwAAAGNIoPQAIAAABq01vIePftEv1FNe5tfBZNTeXN0ZW0uU2VjdXJpdHkuZGxsAAABx+08kwCAAAAoFMURtWI3RqEZKMyhOtdSU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5kbGwAAAERZeTQAIAAABPSA3ndI/1KnGcuUYxHIchTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLldpbmRvd3MuZGxsAAABqQLJiwCgAADPRyh1+eFCQYuaye2seMY0U3lzdGVtLlNlY3VyaXR5LlNlY3VyZVN0cmluZy5kbGwAAAHLuzjmAIAAABBZNOxDwe1JkbgMohDnwVtTeXN0ZW0uU2VydmljZU1vZGVsLldlYi5kbGwAAAF5gna7AIAAAG7qwDQWm8VOjIpBaqjp/wpTeXN0ZW0uU2VydmljZVByb2Nlc3MuZGxsAAABp5ER2gCAAABQIRcXzCuUQZwNp20SpEQ5U3lzdGVtLlRleHQuRW5jb2RpbmcuQ29kZVBhZ2VzLmRsbAAAATKoW6AAgAAAzfjMbo4qUUOnAGRxXrQuFlN5c3RlbS5UZXh0LkVuY29kaW5nLmRsbAAAAV65c9kAgAAAGEgYzUTnREykjwp5Lv4G+VN5c3RlbS5UZXh0LkVuY29kaW5nLkV4dGVuc2lvbnMuZGxsAAABCdaz8gCAAADrUIcf6xZKSayEGAmri/zMU3lzdGVtLlRleHQuRW5jb2RpbmdzLldlYi5kbGwAAAGntxvuAKAAAEamiwNi/wNLp//7wXBFwMJTeXN0ZW0uVGV4dC5Kc29uLmRsbAAAAWoqbdQAYAEAkRd06zBIaUSeBMpW4EYllVN5c3RlbS5UZXh0LlJlZ3VsYXJFeHByZXNzaW9ucy5kbGwAAAFWoMbdAMAAAKdIfz+VQzZCtCo1+yvBtwhTeXN0ZW0uVGhyZWFkaW5nLkNoYW5uZWxzLmRsbAAAAZ5dY6cAgAAATdeXkPeseEO+X/qFjfqOPFN5c3RlbS5UaHJlYWRpbmcuZGxsAAAB9fkqsADAAABHS7mzMTp+SKEiJvF3gPQiU3lzdGVtLlRocmVhZGluZy5PdmVybGFwcGVkLmRsbAAAAUoRz9kAgAAAq5C1DJ2GvUqRermOZVIxWFN5c3RlbS5UaHJlYWRpbmcuVGFza3MuRGF0YWZsb3cuZGxsAAABVUMQhgDAAABBJBXO+R/dQ5h4SBx395O1U3lzdGVtLlRocmVhZGluZy5UYXNrcy5kbGwAAAHwJEbqAIAAADPnogryuWdCoizWpa/nMF9TeXN0ZW0uVGhyZWFkaW5nLlRhc2tzLkV4dGVuc2lvbnMuZGxsAAAB5yTvtwCAAADRmMkDUI/rQIne7PnuJytBU3lzdGVtLlRocmVhZGluZy5UYXNrcy5QYXJhbGxlbC5kbGwAAAG52Ae/AIAAAEhhBYzTY7tPph+/Th2d35dTeXN0ZW0uVGhyZWFkaW5nLlRocmVhZC5kbGwAAAFMP4yNAKAAAKgM6Ub4Xb5GgnlTKgI0MilTeXN0ZW0uVGhyZWFkaW5nLlRocmVhZFBvb2wuZGxsAAABD3vcgwCAAADq877QhjDXQqcQwrWTRspGU3lz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";

export const uploadKnifePlugin = internalAction({
  args: {
    serverId: v.string(),
  },
  handler: async (ctx, args): Promise<{ success: boolean; error?: string }> => {
    void ctx;
    const auth = getDatHostAuth();
    const KNIFE_FOLDER = "cs2/addons/counterstrikesharp/plugins/Knife";

    console.log("üî™ [KNIFE] Uploading Knife plugin files (3 files)...");

    // Helper function to upload a file
    const uploadFile = async (remotePath: string, content: Blob): Promise<boolean> => {
      const encodedPath = encodeURIComponent(remotePath).replaceAll("%2F", "/");
      const formData = new FormData();
      formData.append("file", content);

      const response = await fetch(
        `https://dathost.net/api/0.1/game-servers/${args.serverId}/files/${encodedPath}`,
        {
          method: "POST",
          headers: {
            Authorization: `Basic ${auth}`,
          },
          body: formData,
        }
      );

      if (!response.ok) {
        const text = await response.text();
        console.log("‚ö†Ô∏è [KNIFE] Upload failed:", remotePath, "status=", response.status, "response=", text);
        return false;
      }
      return true;
    };

    // Helper to decode base64 to Blob
    const base64ToBlob = (base64: string): Blob => {
      const binaryString = atob(base64);
      const bytes = new Uint8Array(binaryString.length);
      for (let i = 0; i < binaryString.length; i++) {
        bytes[i] = binaryString.charCodeAt(i);
      }
      return new Blob([bytes]);
    };

    try {
      // 1. Upload Knife.deps.json (decode from base64)
      console.log("üì§ [KNIFE] Uploading Knife.deps.json...");
      const depsBlob = base64ToBlob(KNIFE_DEPS_BASE64);
      const depsResult = await uploadFile(`${KNIFE_FOLDER}/Knife.deps.json`, depsBlob);
      if (!depsResult) {
        return { success: false, error: "Failed to upload Knife.deps.json" };
      }
      console.log("‚úÖ [KNIFE] Knife.deps.json uploaded");

      // 2. Upload Knife.dll (binary)
      console.log("üì§ [KNIFE] Uploading Knife.dll...");
      const dllBlob = base64ToBlob(KNIFE_DLL_BASE64);
      const dllResult = await uploadFile(`${KNIFE_FOLDER}/Knife.dll`, dllBlob);
      if (!dllResult) {
        return { success: false, error: "Failed to upload Knife.dll" };
      }
      console.log("‚úÖ [KNIFE] Knife.dll uploaded");

      // 3. Upload Knife.pdb (binary)
      console.log("üì§ [KNIFE] Uploading Knife.pdb...");
      const pdbBlob = base64ToBlob(KNIFE_PDB_BASE64);
      const pdbResult = await uploadFile(`${KNIFE_FOLDER}/Knife.pdb`, pdbBlob);
      if (!pdbResult) {
        return { success: false, error: "Failed to upload Knife.pdb" };
      }
      console.log("‚úÖ [KNIFE] Knife.pdb uploaded");

      console.log("‚úÖ [KNIFE] All Knife plugin files uploaded successfully!");
      return { success: true };
    } catch (error: any) {
      console.log("‚ö†Ô∏è [KNIFE] Error:", error.message);
      return { success: false, error: error.message };
    }
  },
});

export const deleteServerFile = internalAction({
  args: {
    serverId: v.string(),
    path: v.string(),
  },
  handler: async (ctx, args) => {
    const auth = getDatHostAuth();

    const tryDelete = async (path: string) => {
      const encodedPath = encodeURIComponent(path).replaceAll("%2F", "/");
      const response = await fetch(
        `https://dathost.net/api/0.1/game-servers/${args.serverId}/files/${encodedPath}`,
        {
          method: "DELETE",
          headers: {
            Authorization: `Basic ${auth}`,
          },
        }
      );
      return response;
    };

    try {
      let response = await tryDelete(args.path);
      if (response.status === 404 && args.path.startsWith("cs2/")) {
        response = await tryDelete(args.path.replace(/^cs2\//, ""));
      }

      if (response.ok) {
        console.log("üßπ [FILES] Deleted:", args.path);
        return;
      }

      const errorText = await response.text();
      console.log("‚ö†Ô∏è [FILES] Delete failed:", args.path, "status=", response.status, "response=", errorText);
    } catch (error: any) {
      console.log("‚ö†Ô∏è [FILES] Delete error:", args.path, error.message);
    }
  },
});

export const debugServerSettings = internalAction({
  args: {
    serverId: v.string(),
  },
  handler: async (ctx, args) => {
    void ctx;
    const auth = getDatHostAuth();

    try {
      const response = await fetch(
        `https://dathost.net/api/0.1/game-servers/${args.serverId}`,
        {
          headers: {
            Authorization: `Basic ${auth}`,
          },
        }
      );

      const text = await response.text();
      if (!response.ok) {
        console.log("‚ö†Ô∏è [DEBUG] GET game-server failed:", "status=", response.status, "response=", text);
        return;
      }

      let data: any;
      try {
        data = JSON.parse(text);
      } catch {
        console.log("‚ö†Ô∏è [DEBUG] GET game-server returned non-JSON:", text);
        return;
      }

      const cs2 = data?.cs2_settings ?? {};
      const keys = Object.keys(cs2);
      const interesting = keys.filter((k) => /sharp|css|counter|plugin|mod/i.test(k));

      console.log("üîé [DEBUG] cs2_settings keys:", keys);
      console.log("üîé [DEBUG] cs2_settings interesting:", interesting);
      console.log("üîé [DEBUG] cs2_settings:", cs2);
    } catch (error: any) {
      console.log("‚ö†Ô∏è [DEBUG] Error fetching server:", error.message);
    }
  },
});

export const updateServerSettings = internalAction({
  args: {
    serverId: v.string(),
    addonsEnabled: v.boolean(),
  },
  handler: async (ctx, args) => {
    const auth = getDatHostAuth();

    try {
      const body = new URLSearchParams();
      body.append("cs2_settings.addons", args.addonsEnabled ? "true" : "false");

      const response = await fetch(
        `https://dathost.net/api/0.1/game-servers/${args.serverId}`,
        {
          method: "PUT",
          headers: {
            Authorization: `Basic ${auth}`,
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body,
        }
      );

      const responseText = await response.text();

      if (!response.ok) {
        console.log(
          "‚ö†Ô∏è [ADDONS] Failed to update settings:",
          "status=", 
          response.status,
          "response=",
          responseText
        );
        return;
      }

      console.log("‚úÖ [ADDONS] Updated settings:", responseText);
    } catch (error: any) {
      console.log("‚ö†Ô∏è [ADDONS] Error updating settings:", error.message);
    }
  },
});

/**
 * FASE 60: Create vanilla CS2 server via DatHost API
 */
export const createServer = internalAction({
  args: {
    matchId: v.id("matches"),
    map: v.string(),
    location: v.optional(v.string()),
    playerASteamId: v.string(),
    playerBSteamId: v.string(),
  },
  handler: async (ctx, args) => {
    console.log("üöÄ [CREATE SERVER] Starting vanilla CS2 server creation");
    console.log("Map:", args.map);
    console.log("Location:", args.location || "Default");
    console.log("Players:", args.playerASteamId, args.playerBSteamId);

    const auth = getDatHostAuth();
    const rconPassword = generateRconPassword();

    try {
      // Step 1: Create server
      // DatHost expects form-encoded body (multipart/form-data or application/x-www-form-urlencoded).
      // If we send JSON, DatHost may parse fields as null ("Unsupported game null").
      const body = new URLSearchParams();
      body.append("game", "cs2");
      body.append("name", `Match ${args.matchId}`);
      if (args.location) {
        body.append("location", args.location);
      }
      body.append("cs2_settings.slots", "5");
      body.append("cs2_settings.mapgroup_start_map", args.map);
      body.append("cs2_settings.disable_bots", "true");
      body.append("cs2_settings.enable_metamod", "true");
      const metaModPlugins = getCs2MetaModPluginIdsFromEnv();
      if (metaModPlugins) {
        body.append("cs2_settings.metamod_plugins", JSON.stringify(metaModPlugins));
      }
      body.append("cs2_settings.rcon", rconPassword);
      body.append("cs2_settings.password", "");
      body.append("cs2_settings.game_mode", "competitive");

      console.log("üì§ [CREATE SERVER] Sending create request to DatHost");
      console.log("üìç [CREATE SERVER] Requested location:", args.location || "Auto");

      const createResponse = await fetch(
        "https://dathost.net/api/0.1/game-servers",
        {
          method: "POST",
          headers: {
            Authorization: `Basic ${auth}`,
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body,
        }
      );

      const responseText = await createResponse.text();
      
      if (!createResponse.ok) {
        console.error("‚ùå [CREATE SERVER] Failed:", createResponse.status);
        console.error("‚ùå [CREATE SERVER] Response:", responseText);
        throw new Error(`Failed to create server: ${createResponse.status} - ${responseText}`);
      }

      console.log("üì• [CREATE SERVER] Response:", responseText);
      
      let serverData;
      try {
        serverData = JSON.parse(responseText);
      } catch (parseError: any) {
        console.error("‚ùå [CREATE SERVER] JSON Parse Error:", parseError.message);
        console.error("‚ùå [CREATE SERVER] Raw response:", responseText);
        throw new Error(`Invalid JSON response: ${responseText.substring(0, 100)}`);
      }
      
      const serverId = String(serverData.id);
      console.log("‚úÖ [CREATE SERVER] Server created:", serverId);

      // Apply match-specific settings + best-effort MetaMod / CounterStrikeSharp toggles via PUT
      const updateBody = new URLSearchParams();
      updateBody.append("name", `Match ${args.matchId}`);
      if (args.location) {
        updateBody.append("location", args.location);
      }
      updateBody.append("cs2_settings.slots", "5");
      updateBody.append("cs2_settings.mapgroup_start_map", args.map);
      updateBody.append("cs2_settings.disable_bots", "true");
      updateBody.append("cs2_settings.rcon", rconPassword);
      updateBody.append("cs2_settings.password", "");
      updateBody.append("cs2_settings.game_mode", "competitive");
      updateBody.append("cs2_settings.enable_metamod", "true");
      if (metaModPlugins) {
        updateBody.append("cs2_settings.metamod_plugins", JSON.stringify(metaModPlugins));
      }

      console.log("‚öôÔ∏è [CREATE SERVER] Applying match settings (and MetaMod/CSS flags) via PUT");
      const applyResponse = await fetch(
        `https://dathost.net/api/0.1/game-servers/${serverId}`,
        {
          method: "PUT",
          headers: {
            Authorization: `Basic ${auth}`,
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: updateBody,
        }
      );
      const applyText = await applyResponse.text();
      if (!applyResponse.ok) {
        console.log("‚ö†Ô∏è [CREATE SERVER] PUT settings failed:", "status=", applyResponse.status, "response=", applyText);
      } else {
        console.log("‚úÖ [CREATE SERVER] PUT settings ok:", applyText);
      }

      await ctx.runAction(internal.dathostCore.debugServerSettings, {
        serverId,
      });

      // Step 2: Start server
      console.log("üîÑ [START SERVER] Starting server...");

      const startResponse = await fetch(
        `https://dathost.net/api/0.1/game-servers/${serverId}/start`,
        {
          method: "POST",
          headers: {
            Authorization: `Basic ${auth}`,
          },
        }
      );

      if (!startResponse.ok) {
        const errorText = await startResponse.text();
        console.error("‚ùå [START SERVER] Failed:", errorText);
        throw new Error(`Failed to start server: ${startResponse.status}`);
      }

      console.log("‚úÖ [START SERVER] Server started");

      // Step 3: Wait for server to boot and get IP/Port
      let serverIp = null;
      let serverPort = null;
      let attempts = 0;
      const maxAttempts = 15; // 30 seconds max

      while (attempts < maxAttempts && (!serverIp || !serverPort)) {
        await new Promise((resolve) => setTimeout(resolve, 2000));

        const statusResponse = await fetch(
          `https://dathost.net/api/0.1/game-servers/${serverId}`,
          {
            headers: {
              Authorization: `Basic ${auth}`,
            },
          }
        );

        if (statusResponse.ok) {
          const statusData = await statusResponse.json();
          if (statusData.ip && statusData.ports?.game) {
            serverIp = statusData.ip;
            serverPort = statusData.ports.game;
            console.log("‚úÖ [BOOT] Server ready:", `${serverIp}:${serverPort}`);
            break;
          }
        }

        attempts++;
        console.log(`‚è≥ [BOOT] Waiting for server... (${attempts}/${maxAttempts})`);
      }

      if (!serverIp || !serverPort) {
        throw new Error("Server failed to boot within 30 seconds");
      }

      // Step 4: Store server info in database
      await ctx.runMutation(internal.dathostCore.storeServerInfo, {
        matchId: args.matchId,
        serverId,
        serverIp,
        serverPort,
        rconPassword,
        playerASteamId: args.playerASteamId,
        playerBSteamId: args.playerBSteamId,
      });

      // Step 5: Initialize server settings via RCON
      await ctx.runAction(internal.dathostCore.initializeServerSettings, {
        serverId,
      });

      // Step 6: Start monitoring logs for whitelist enforcement
      await ctx.runAction(internal.dathostCore.startLogMonitoring, {
        matchId: args.matchId,
        serverId,
      });

      console.log("üéÆ [CREATE SERVER] Complete! Server ready for players");

      return {
        success: true,
        serverId,
        connectString: `${serverIp}:${serverPort}`,
      };
    } catch (error: any) {
      console.error("‚ùå [CREATE SERVER] Error:", error.message);
      throw error;
    }
  },
});

/**
 * Store server info in database
 */
export const storeServerInfo = internalMutation({
  args: {
    matchId: v.id("matches"),
    serverId: v.string(),
    serverIp: v.string(),
    serverPort: v.number(),
    rconPassword: v.string(),
    playerASteamId: v.string(),
    playerBSteamId: v.string(),
  },
  handler: async (ctx, args) => {
    const playerASteamId64 = normalizeSteamId(args.playerASteamId);
    const playerBSteamId64 = normalizeSteamId(args.playerBSteamId);

    await ctx.db.patch(args.matchId, {
      dathostServerId: args.serverId,
      serverIp: `${args.serverIp}:${args.serverPort}`,
      rconPassword: args.rconPassword,
      state: "WARMUP",
      whitelistedPlayers: [playerASteamId64, playerBSteamId64],
      connectedSteamIds: [],
      startSequenceTriggered: false,
    });

    console.log("‚úÖ [STORE] Server info saved to database");
  },
});

/**
 * Initialize server settings via RCON
 */
export const initializeServerSettings = internalAction({
  args: {
    serverId: v.string(),
  },
  handler: async (ctx, args) => {
    console.log("‚öôÔ∏è [INIT] Configuring server settings...");

    const commands = [
      "mp_autoteambalance 0",
      "mp_limitteams 0",
      "mp_spectators_max 0",
      "mp_maxrounds 30",
      "mp_startmoney 800",
      "mp_roundtime 1.92",
      "mp_freezetime 15",
      "mp_buytime 20",
      "mp_c4timer 40",
      "sv_cheats 0",
      "sv_alltalk 0",
      "say >>> SERVER READY - Waiting for players <<<",
    ];

    for (const command of commands) {
      await ctx.runAction(internal.dathostCore.sendRconCommand, {
        serverId: args.serverId,
        command,
      });
      await new Promise((resolve) => setTimeout(resolve, 100));
    }

    console.log("‚úÖ [INIT] Server configured");
  },
});

/**
 * Send RCON command to server
 */
export const sendRconCommand = internalAction({
  args: {
    serverId: v.string(),
    command: v.string(),
  },
  handler: async (ctx, args) => {
    const auth = getDatHostAuth();

    try {
      const params = new URLSearchParams();
      params.append("line", args.command);

      const response = await fetch(
        `https://dathost.net/api/0.1/game-servers/${args.serverId}/console`,
        {
          method: "POST",
          headers: {
            Authorization: `Basic ${auth}`,
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: params,
        }
      );

      if (!response.ok) {
        const errorText = await response.text();
        console.error("‚ùå [RCON] Failed:", args.command, errorText);
      }
    } catch (error: any) {
      console.error("‚ùå [RCON] Error:", error.message);
    }
  },
});

/**
 * Start log monitoring for whitelist enforcement
 */
export const startLogMonitoring = internalAction({
  args: {
    matchId: v.id("matches"),
    serverId: v.string(),
  },
  handler: async (ctx, args) => {
    console.log("üëÅÔ∏è [MONITOR] Starting log monitoring for whitelist enforcement");

    // Schedule recurring log checks every 2 seconds
    await ctx.scheduler.runAfter(2000, internal.dathostCore.checkServerLogs, {
      matchId: args.matchId,
      serverId: args.serverId,
      attemptCount: 0,
    });
  },
});

export const checkServerStatusPlayers = internalAction({
  args: {
    matchId: v.id("matches"),
    serverId: v.string(),
    attemptCount: v.number(),
  },
  handler: async (ctx, args) => {
    void ctx;
    void args;
    return;
  },
});

/**
 * Check server logs for unauthorized players
 */
export const checkServerLogs = internalAction({
  args: {
    matchId: v.id("matches"),
    serverId: v.string(),
    attemptCount: v.number(),
  },
  handler: async (ctx, args) => {
    const MAX_ATTEMPTS = 300; // 10 minutes of monitoring

    if (args.attemptCount >= MAX_ATTEMPTS) {
      console.log("‚ö†Ô∏è [MONITOR] Max monitoring time reached");
      return;
    }

    // Get match state
    const match = await ctx.runQuery(internal.dathostCore.getMatchState, {
      matchId: args.matchId,
    });

    if (!match || match.state === "FINISHED" || match.state === "CANCELLED") {
      console.log("‚ö†Ô∏è [MONITOR] Match ended, stopping monitoring");
      return;
    }

    if (match.startSequenceTriggered) {
      return;
    }

    const auth = getDatHostAuth();

    try {
      // Fetch recent console logs
      const response = await fetch(
        `https://dathost.net/api/0.1/game-servers/${args.serverId}/console`,
        {
          headers: {
            Authorization: `Basic ${auth}`,
          },
        }
      );

      if (response.ok) {
        const raw = await response.text();

        let lines: string[] = [];
        try {
          const parsed = JSON.parse(raw);
          if (parsed && Array.isArray(parsed.lines)) {
            lines = parsed.lines;
          }
        } catch {
          // Not JSON, fall back to treating as plain text
        }

        if (lines.length === 0) {
          lines = raw.split("\n");
        }

        // Auto-normalize whitelist for older matches (may contain non-64 formats)
        const rawWhitelist = match.whitelistedPlayers || [];
        const normalizedWhitelist = rawWhitelist.map((id: string) => {
          try {
            return normalizeSteamId(id);
          } catch {
            return id;
          }
        });
        if (JSON.stringify(rawWhitelist) !== JSON.stringify(normalizedWhitelist)) {
          await ctx.runMutation(internal.dathostCore.normalizeWhitelist, {
            matchId: args.matchId,
            whitelistedPlayers: normalizedWhitelist,
          });
        }

        // Parse logs for player connections
        for (const line of lines) {
          // Some CS2 servers log connects as:
          // Accepting Steam Net connection ... steamid:7656119...@...
          const acceptMatch = line.match(/Accepting Steam Net connection .* steamid:(\d{17})@/);
          if (acceptMatch) {
            const steamId64 = acceptMatch[1];

            if (normalizedWhitelist.includes(steamId64)) {
              await ctx.runMutation(internal.dathostCore.trackConnectedSteamId, {
                matchId: args.matchId,
                steamId64,
              });
            }
            continue;
          }

          // Detect player connect with SteamID
          // Example: "name<1><[U:1:344749167]><>" connected
          const connectMatch = line.match(/"(.+?)<(\d+)><(\[U:1:\d+\]|STEAM_\d+:\d+:\d+)>.*?" (connected|entered the game|STEAM USERID validated)/);
          if (!connectMatch) continue;

          const [, playerName, userId, steamIdRaw] = connectMatch;
          const steamId64 = normalizeSteamId(steamIdRaw);

          // Check if player is whitelisted
          if (!normalizedWhitelist.includes(steamId64)) {
            console.log("üö´ [WHITELIST] Unauthorized player detected:", playerName, steamIdRaw, "->", steamId64);

            // Kick unauthorized player (kickid expects userid)
            await ctx.runAction(internal.dathostCore.sendRconCommand, {
              serverId: args.serverId,
              command: `kickid ${userId} "Not authorized for this match"`,
            });
            continue;
          }

          console.log("‚úÖ [WHITELIST] Authorized player connected:", playerName, steamIdRaw, "->", steamId64);

          await ctx.runMutation(internal.dathostCore.trackConnectedSteamId, {
            matchId: args.matchId,
            steamId64,
          });

          // Forward to logHandlers so it can mark connected + trigger matchFlow
          await ctx.runMutation(internal.logHandlers.handlePlayerConnect, {
            steamId: steamIdRaw,
            playerName,
          });
        }
      }
    } catch (error: any) {
      console.error("‚ùå [MONITOR] Error:", error.message);
    }

    // Schedule next check
    await ctx.scheduler.runAfter(2000, internal.dathostCore.checkServerLogs, {
      matchId: args.matchId,
      serverId: args.serverId,
      attemptCount: args.attemptCount + 1,
    });
  },
});

/**
 * Get match state
 */
export const getMatchState = internalQuery({
  args: {
    matchId: v.id("matches"),
  },
  handler: async (ctx, args) => {
    return await ctx.db.get(args.matchId);
  },
});

export const normalizeWhitelist = internalMutation({
  args: {
    matchId: v.id("matches"),
    whitelistedPlayers: v.array(v.string()),
  },
  handler: async (ctx, args) => {
    await ctx.db.patch(args.matchId, {
      whitelistedPlayers: args.whitelistedPlayers,
    });
  },
});

export const trackConnectedSteamId = internalMutation({
  args: {
    matchId: v.id("matches"),
    steamId64: v.string(),
  },
  handler: async (ctx, args) => {
    const match = await ctx.db.get(args.matchId);
    if (!match || match.state !== "WARMUP") return;

    const rawWhitelist = match.whitelistedPlayers || [];
    const whitelist = rawWhitelist.map((id) => {
      try {
        return normalizeSteamId(id);
      } catch {
        return id;
      }
    });

    if (JSON.stringify(rawWhitelist) !== JSON.stringify(whitelist)) {
      await ctx.db.patch(args.matchId, {
        whitelistedPlayers: whitelist,
      });
    }

    if (!whitelist.includes(args.steamId64)) return;

    const connected = match.connectedSteamIds || [];
    if (connected.includes(args.steamId64)) return;

    const updated = [...connected, args.steamId64];
    await ctx.db.patch(args.matchId, {
      connectedSteamIds: updated,
    });

    console.log("‚úÖ [TRACK] connectedSteamIds:", updated, "/", whitelist);

    const expected = whitelist.length;
    if (updated.length >= expected && !match.startSequenceTriggered && match.dathostServerId) {
      console.log("üöÄ [TRACK] All whitelisted players connected, starting in 10 seconds");
      await ctx.db.patch(args.matchId, {
        startSequenceTriggered: true,
      });

      await ctx.scheduler.runAfter(0, internal.dathostCore.sendRconCommand, {
        serverId: match.dathostServerId,
        command: "say >>> MATCH STARTING IN 10 SECONDS <<<",
      });

      await ctx.scheduler.runAfter(10000, internal.matchFlow.startWarmupSequence, {
        matchId: args.matchId,
      });
    }
  },
});

/**
 * Delete server when match ends
 */
export const deleteServer = internalAction({
  args: {
    serverId: v.string(),
  },
  handler: async (ctx, args) => {
    console.log("üóëÔ∏è [DELETE] Deleting server:", args.serverId);

    const auth = getDatHostAuth();

    try {
      const response = await fetch(
        `https://dathost.net/api/0.1/game-servers/${args.serverId}`,
        {
          method: "DELETE",
          headers: {
            Authorization: `Basic ${auth}`,
          },
        }
      );

      if (!response.ok) {
        const errorText = await response.text();
        console.error("‚ùå [DELETE] Failed:", errorText);
        throw new Error(`Failed to delete server: ${response.status}`);
      }

      console.log("‚úÖ [DELETE] Server deleted successfully");
    } catch (error: any) {
      console.error("‚ùå [DELETE] Error:", error.message);
      throw error;
    }
  },
});
